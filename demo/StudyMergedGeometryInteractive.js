(()=>{"use strict";var __webpack_modules__={7524:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// UNUSED EXPORTS: StudyMergedGeometryInteractive\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(6753);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js\nvar BufferGeometryUtils = __webpack_require__(1426);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(3580);\n;// CONCATENATED MODULE: ./src/Common.ts\n\n\nvar Common = /** @class */ (function () {\n    function Common() {\n    }\n    Common.initScene = function () {\n        var scene = new three_module.Scene();\n        return scene;\n    };\n    Common.initLight = function (scene) {\n        var ambientLight = new three_module.AmbientLight(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    };\n    Common.initCamera = function (scene, W, H, near, far) {\n        if (near === void 0) { near = 1; }\n        if (far === void 0) { far = 400; }\n        var camera = new three_module.PerspectiveCamera(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    };\n    Common.initControl = function (camera, render) {\n        var domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        var control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    };\n    Common.initRenderer = function (W, H, color, id, antialias) {\n        if (color === void 0) { color = 0x000000; }\n        if (id === void 0) { id = "webgl-canvas"; }\n        if (antialias === void 0) { antialias = true; }\n        var renderer = new three_module.WebGLRenderer({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    };\n    Common.initRendererSettings = function (renderer, color, W, H) {\n        renderer.setClearColor(new three_module.Color(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_module.REVISION);\n    };\n    Common.initHelper = function (scene) {\n        var axesHelper = new three_module.AxesHelper(30);\n        scene.add(axesHelper);\n    };\n    Common.render = function (control, renderer, scene, camera, onBeforeRender) {\n        var rendering = function () {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.render(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    Common.addRendererInfo = function () {\n        var info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    };\n    Common.updateRendererInfo = function (div, info) {\n        div.innerText = JSON.stringify(info);\n    };\n    return Common;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/libs/stats.module.js\nvar stats_module = __webpack_require__(4533);\n;// CONCATENATED MODULE: ./src/MergedGeometryStudy.ts\n\n\n\nvar MergedGeometryStudy = /** @class */ (function () {\n    function MergedGeometryStudy() {\n        this.initStats();\n        var scene = Common.initScene();\n        var camera = Common.initCamera(scene, MergedGeometryStudy.W, MergedGeometryStudy.H);\n        this.renderer = Common.initRenderer(MergedGeometryStudy.W, MergedGeometryStudy.H);\n        var object = this.initMesh(scene);\n        var info = Common.addRendererInfo();\n        this.render(object, info, this.renderer, scene, camera);\n    }\n    MergedGeometryStudy.prototype.initStats = function () {\n        this.stats = new stats_module/* default */.A();\n        this.stats.showPanel(0);\n        document.body.appendChild(this.stats.dom);\n    };\n    MergedGeometryStudy.prototype.initMesh = function (scene) {\n        // Override me\n        return new three_module.Group();\n    };\n    MergedGeometryStudy.prototype.render = function (mergedMesh, infoContainer, renderer, scene, camera) {\n        var _this = this;\n        var rendering = function () {\n            mergedMesh.rotation.x += 0.01;\n            mergedMesh.rotation.y += 0.01;\n            mergedMesh.rotation.z += 0.01;\n            _this.stats.begin();\n            renderer.render(scene, camera);\n            _this.stats.end();\n            Common.updateRendererInfo(infoContainer, renderer.info.render);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    MergedGeometryStudy.W = 1280;\n    MergedGeometryStudy.H = 800;\n    return MergedGeometryStudy;\n}());\n\n\n;// CONCATENATED MODULE: ./src/StudyMergedGeometryInteractive.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar StudyMergedGeometryInteractive = /** @class */ (function (_super) {\n    __extends(StudyMergedGeometryInteractive, _super);\n    function StudyMergedGeometryInteractive() {\n        var _this = _super.call(this) || this;\n        _this.raycaster = new three_module.Raycaster();\n        _this.mousePoint = new three_module.Vector2();\n        _this.onPointerMove = function (e) {\n            _this.mousePoint.x =\n                (e.clientX / parseInt(_this.renderer.domElement.style.width)) * 2 - 1;\n            _this.mousePoint.y =\n                -(e.clientY / parseInt(_this.renderer.domElement.style.height)) * 2 + 1;\n        };\n        document.addEventListener("pointermove", _this.onPointerMove);\n        return _this;\n    }\n    StudyMergedGeometryInteractive.prototype.initMesh = function (scene) {\n        var geometryArray = [];\n        var size = 1;\n        var margin = 0.3;\n        var pitch = size + margin;\n        var numCube = 25;\n        var offset = (numCube * pitch) / 2;\n        var generateCube = function (x, y, z, idCount) {\n            var geometry = new three_module.BoxGeometry();\n            var positions = geometry.getAttribute("position");\n            var count = positions.count;\n            geometry.setAttribute("color", new three_module.BufferAttribute(new Float32Array(count * 4), 4));\n            geometry.setAttribute("originalColor", new three_module.BufferAttribute(new Float32Array(count * 4), 4));\n            geometry.setAttribute("mesh_id", new three_module.BufferAttribute(new Float32Array(count), 1));\n            var colors = geometry.getAttribute("color");\n            var originalColor = geometry.getAttribute("originalColor");\n            var idAttribute = geometry.getAttribute("mesh_id");\n            for (var i = 0; i < count; i++) {\n                positions.setXYZ(i, positions.getX(i) + x * pitch - offset, positions.getY(i) + y * pitch - offset, positions.getZ(i) + z * pitch - offset);\n                colors.setXYZW(i, x / numCube, y / numCube, z / numCube, 0.1);\n                originalColor.setXYZW(i, x / numCube, y / numCube, z / numCube, 0.1);\n                idAttribute.setX(i, idCount);\n            }\n            geometryArray.push(geometry);\n        };\n        var idCounter = 0;\n        for (var x = 0; x < numCube; x++) {\n            for (var y = 0; y < numCube; y++) {\n                for (var z = 0; z < numCube; z++) {\n                    generateCube(x, y, z, idCounter);\n                    idCounter++;\n                }\n            }\n        }\n        var mergedMesh = new three_module.Mesh((0,BufferGeometryUtils/* mergeGeometries */.pP)(geometryArray), new three_module.MeshBasicMaterial({ transparent: true, vertexColors: true }));\n        scene.add(mergedMesh);\n        return mergedMesh;\n    };\n    StudyMergedGeometryInteractive.prototype.render = function (mergedMesh, infoContainer, renderer, scene, camera) {\n        var _this = this;\n        var rendering = function () {\n            var _a, _b;\n            var speed = 0.01;\n            mergedMesh.rotation.x += speed;\n            mergedMesh.rotation.y += speed;\n            mergedMesh.rotation.z += speed;\n            mergedMesh.updateMatrix();\n            _this.stats.begin();\n            (_a = _this.raycaster) === null || _a === void 0 ? void 0 : _a.setFromCamera(_this.mousePoint, camera);\n            var intersects = (_b = _this.raycaster) === null || _b === void 0 ? void 0 : _b.intersectObject(mergedMesh, false);\n            if ((intersects === null || intersects === void 0 ? void 0 : intersects.length) > 0) {\n                _this.updateIntersect(intersects[0], mergedMesh.geometry);\n            }\n            renderer.render(scene, camera);\n            _this.stats.end();\n            Common.updateRendererInfo(infoContainer, renderer.info.render);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    StudyMergedGeometryInteractive.prototype.updateIntersect = function (intersect, geo) {\n        var idAttribute = geo.getAttribute("mesh_id");\n        var face = intersect.face;\n        var meshID = idAttribute.getX(face.a);\n        if (idAttribute.getX(face.a) !== idAttribute.getX(face.b) ||\n            idAttribute.getX(face.a) !== idAttribute.getX(face.c)) {\n            console.log(idAttribute.getX(face.a), idAttribute.getX(face.b), idAttribute.getX(face.c));\n        }\n        var colorAttribute = geo.getAttribute("color");\n        var originalColorAttribute = geo.getAttribute("originalColor");\n        var count = idAttribute.count;\n        for (var i = 0; i < count; i++) {\n            if (idAttribute.getX(i) === meshID) {\n                colorAttribute.setXYZW(i, 1, 1, 1, 1);\n            }\n            else {\n                colorAttribute.setXYZW(i, originalColorAttribute.getX(i), originalColorAttribute.getY(i), originalColorAttribute.getZ(i), originalColorAttribute.getW(i));\n            }\n        }\n        colorAttribute.needsUpdate = true;\n    };\n    StudyMergedGeometryInteractive.W = 1280;\n    StudyMergedGeometryInteractive.H = 800;\n    return StudyMergedGeometryInteractive;\n}(MergedGeometryStudy));\n\nwindow.onload = function () {\n    var study = new StudyMergedGeometryInteractive();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBRWhDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUMvQixJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssTUFBTSxFQUFFLENBQUM7Z0JBQ25DLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixjQUFjLENBQUMsT0FBTyxDQUNwQixDQUFDLEVBQ0Qsc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUM5QixzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQzlCLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDOUIsc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUMvQixDQUFDO1lBQ0osQ0FBQztRQUNILENBQUM7UUFDRCxjQUFjLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztJQUNwQyxDQUFDO0lBbkpzQixnQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNULGdDQUFDLEdBQUcsR0FBRyxDQUFDO0lBbUpqQyxxQ0FBQztDQUFBLENBckptRCxtQkFBbUIsR0FxSnRFO0FBckowQztBQXVKM0MsTUFBTSxDQUFDLE1BQU0sR0FBRztJQUNkLElBQU0sS0FBSyxHQUFHLElBQUksOEJBQThCLEVBQUUsQ0FBQztBQUNyRCxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWxhYi8uL3NyYy9Db21tb24udHM/NzMzMCIsIndlYnBhY2s6Ly90aHJlZWpzLWxhYi8uL3NyYy9NZXJnZWRHZW9tZXRyeVN0dWR5LnRzPzM0ZjciLCJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvU3R1ZHlNZXJnZWRHZW9tZXRyeUludGVyYWN0aXZlLnRzPzY2Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQW1iaWVudExpZ2h0LFxuICBBeGVzSGVscGVyLFxuICBDYW1lcmEsXG4gIENvbG9yLFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgU2NlbmUsXG4gIFdlYkdMUmVuZGVyZXIsXG4gIFJFVklTSU9OLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanNcIjtcblxuZXhwb3J0IGNsYXNzIENvbW1vbiB7XG4gIHB1YmxpYyBzdGF0aWMgaW5pdFNjZW5lKCkge1xuICAgIGNvbnN0IHNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgcmV0dXJuIHNjZW5lO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0TGlnaHQoc2NlbmUpIHtcbiAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxLjApO1xuICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuICAgIHJldHVybiBhbWJpZW50TGlnaHQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRDYW1lcmEoXG4gICAgc2NlbmU6IFNjZW5lLFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXIsXG4gICAgbmVhciA9IDEsXG4gICAgZmFyID0gNDAwXG4gICk6IFBlcnNwZWN0aXZlQ2FtZXJhIHtcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNDUsIFcgLyBILCBuZWFyLCBmYXIpO1xuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgMTAwKTtcbiAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoZmFsc2UpO1xuICAgIHNjZW5lLmFkZChjYW1lcmEpO1xuICAgIHJldHVybiBjYW1lcmE7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRDb250cm9sKFxuICAgIGNhbWVyYTogQ2FtZXJhLFxuICAgIHJlbmRlcjogV2ViR0xSZW5kZXJlclxuICApOiBPcmJpdENvbnRyb2xzIHtcbiAgICBsZXQgZG9tRWxlbWVudDtcbiAgICBpZiAocmVuZGVyKSB7XG4gICAgICBkb21FbGVtZW50ID0gcmVuZGVyLmRvbUVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2wgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIGRvbUVsZW1lbnQpO1xuICAgIGNvbnRyb2wudXBkYXRlKCk7XG4gICAgcmV0dXJuIGNvbnRyb2w7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRSZW5kZXJlcihcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyLFxuICAgIGNvbG9yOiBudW1iZXIgPSAweDAwMDAwMCxcbiAgICBpZDogc3RyaW5nID0gXCJ3ZWJnbC1jYW52YXNcIixcbiAgICBhbnRpYWxpYXM6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe1xuICAgICAgY2FudmFzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICBhbnRpYWxpYXM6IGFudGlhbGlhcyxcbiAgICB9KTtcbiAgICB0aGlzLmluaXRSZW5kZXJlclNldHRpbmdzKHJlbmRlcmVyLCBjb2xvciwgVywgSCk7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaW5pdFJlbmRlcmVyU2V0dGluZ3MoXG4gICAgcmVuZGVyZXI6IFdlYkdMUmVuZGVyZXIsXG4gICAgY29sb3I6IG51bWJlcixcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyXG4gICkge1xuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IENvbG9yKGNvbG9yKSk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXLCBIKTtcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICBjb25zb2xlLmxvZyhcInRocmVlLmpzIHJldmlzaW9uOiBcIiwgUkVWSVNJT04pO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0SGVscGVyKHNjZW5lOiBTY2VuZSk6IHZvaWQge1xuICAgIGNvbnN0IGF4ZXNIZWxwZXIgPSBuZXcgQXhlc0hlbHBlcigzMCk7XG4gICAgc2NlbmUuYWRkKGF4ZXNIZWxwZXIpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyByZW5kZXIoXG4gICAgY29udHJvbDogT3JiaXRDb250cm9scyxcbiAgICByZW5kZXJlcjogV2ViR0xSZW5kZXJlcixcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgY2FtZXJhOiBDYW1lcmEsXG4gICAgb25CZWZvcmVSZW5kZXI/OiAoKSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHJlbmRlcmluZyA9ICgpID0+IHtcbiAgICAgIGlmIChvbkJlZm9yZVJlbmRlcikge1xuICAgICAgICBvbkJlZm9yZVJlbmRlcigpO1xuICAgICAgfVxuICAgICAgY29udHJvbC51cGRhdGUoKTtcbiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJpbmcpO1xuICAgIH07XG4gICAgcmVuZGVyaW5nKCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGFkZFJlbmRlcmVySW5mbygpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgdXBkYXRlUmVuZGVyZXJJbmZvKGRpdjogSFRNTERpdkVsZW1lbnQsIGluZm86IGFueSk6IHZvaWQge1xuICAgIGRpdi5pbm5lclRleHQgPSBKU09OLnN0cmluZ2lmeShpbmZvKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ2FtZXJhLCBHcm91cCwgT2JqZWN0M0QsIFNjZW5lLCBXZWJHTFJlbmRlcmVyIH0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgU3RhdHMgZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9saWJzL3N0YXRzLm1vZHVsZS5qc1wiO1xuaW1wb3J0IHsgQ29tbW9uIH0gZnJvbSBcIi4vQ29tbW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXJnZWRHZW9tZXRyeVN0dWR5IHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBXID0gMTI4MDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIID0gODAwO1xuICBwcm90ZWN0ZWQgc3RhdHM7XG4gIHByb3RlY3RlZCByZW5kZXJlcjogV2ViR0xSZW5kZXJlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRTdGF0cygpO1xuICAgIGNvbnN0IHNjZW5lID0gQ29tbW9uLmluaXRTY2VuZSgpO1xuXG4gICAgY29uc3QgY2FtZXJhID0gQ29tbW9uLmluaXRDYW1lcmEoXG4gICAgICBzY2VuZSxcbiAgICAgIE1lcmdlZEdlb21ldHJ5U3R1ZHkuVyxcbiAgICAgIE1lcmdlZEdlb21ldHJ5U3R1ZHkuSFxuICAgICk7XG4gICAgdGhpcy5yZW5kZXJlciA9IENvbW1vbi5pbml0UmVuZGVyZXIoXG4gICAgICBNZXJnZWRHZW9tZXRyeVN0dWR5LlcsXG4gICAgICBNZXJnZWRHZW9tZXRyeVN0dWR5LkhcbiAgICApO1xuXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5pbml0TWVzaChzY2VuZSk7XG4gICAgY29uc3QgaW5mbyA9IENvbW1vbi5hZGRSZW5kZXJlckluZm8oKTtcblxuICAgIHRoaXMucmVuZGVyKG9iamVjdCwgaW5mbywgdGhpcy5yZW5kZXJlciwgc2NlbmUsIGNhbWVyYSk7XG4gIH1cblxuICBwcml2YXRlIGluaXRTdGF0cygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzKCk7XG4gICAgdGhpcy5zdGF0cy5zaG93UGFuZWwoMCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnN0YXRzLmRvbSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5pdE1lc2goc2NlbmU6IFNjZW5lKTogT2JqZWN0M0Qge1xuICAgIC8vIE92ZXJyaWRlIG1lXG4gICAgcmV0dXJuIG5ldyBHcm91cCgpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcihcbiAgICBtZXJnZWRNZXNoOiBPYmplY3QzRCxcbiAgICBpbmZvQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCxcbiAgICByZW5kZXJlcjogV2ViR0xSZW5kZXJlcixcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgY2FtZXJhOiBDYW1lcmFcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyaW5nID0gKCkgPT4ge1xuICAgICAgbWVyZ2VkTWVzaC5yb3RhdGlvbi54ICs9IDAuMDE7XG4gICAgICBtZXJnZWRNZXNoLnJvdGF0aW9uLnkgKz0gMC4wMTtcbiAgICAgIG1lcmdlZE1lc2gucm90YXRpb24ueiArPSAwLjAxO1xuXG4gICAgICB0aGlzLnN0YXRzLmJlZ2luKCk7XG4gICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICB0aGlzLnN0YXRzLmVuZCgpO1xuXG4gICAgICBDb21tb24udXBkYXRlUmVuZGVyZXJJbmZvKGluZm9Db250YWluZXIsIHJlbmRlcmVyLmluZm8ucmVuZGVyKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJpbmcpO1xuICAgIH07XG4gICAgcmVuZGVyaW5nKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEJveEdlb21ldHJ5LFxuICBCdWZmZXJBdHRyaWJ1dGUsXG4gIEJ1ZmZlckdlb21ldHJ5LFxuICBDYW1lcmEsXG4gIEZhY2UsXG4gIEludGVyc2VjdGlvbixcbiAgTWVzaCxcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIE9iamVjdDNELFxuICBSYXljYXN0ZXIsXG4gIFNjZW5lLFxuICBWZWN0b3IyLFxuICBXZWJHTFJlbmRlcmVyLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IG1lcmdlR2VvbWV0cmllcyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvQnVmZmVyR2VvbWV0cnlVdGlscy5qc1wiO1xuaW1wb3J0IHsgQ29tbW9uIH0gZnJvbSBcIi4vQ29tbW9uXCI7XG5pbXBvcnQgeyBNZXJnZWRHZW9tZXRyeVN0dWR5IH0gZnJvbSBcIi4vTWVyZ2VkR2VvbWV0cnlTdHVkeVwiO1xuXG5leHBvcnQgY2xhc3MgU3R1ZHlNZXJnZWRHZW9tZXRyeUludGVyYWN0aXZlIGV4dGVuZHMgTWVyZ2VkR2VvbWV0cnlTdHVkeSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVyA9IDEyODA7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSCA9IDgwMDtcbiAgcHJvdGVjdGVkIHN0YXRzO1xuICBwcm90ZWN0ZWQgcmF5Y2FzdGVyOiBSYXljYXN0ZXIgPSBuZXcgUmF5Y2FzdGVyKCk7XG4gIHByb3RlY3RlZCBtb3VzZVBvaW50OiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblBvaW50ZXJNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICB0aGlzLm1vdXNlUG9pbnQueCA9XG4gICAgICAoZS5jbGllbnRYIC8gcGFyc2VJbnQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLndpZHRoKSkgKiAyIC0gMTtcbiAgICB0aGlzLm1vdXNlUG9pbnQueSA9XG4gICAgICAtKGUuY2xpZW50WSAvIHBhcnNlSW50KHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS5oZWlnaHQpKSAqIDIgKyAxO1xuICB9O1xuXG4gIHByb3RlY3RlZCBpbml0TWVzaChzY2VuZTogU2NlbmUpOiBNZXNoIHtcbiAgICBjb25zdCBnZW9tZXRyeUFycmF5OiBCb3hHZW9tZXRyeVtdID0gW107XG5cbiAgICBjb25zdCBzaXplID0gMTtcbiAgICBjb25zdCBtYXJnaW4gPSAwLjM7XG4gICAgY29uc3QgcGl0Y2ggPSBzaXplICsgbWFyZ2luO1xuICAgIGNvbnN0IG51bUN1YmUgPSAyNTtcbiAgICBjb25zdCBvZmZzZXQgPSAobnVtQ3ViZSAqIHBpdGNoKSAvIDI7XG5cbiAgICBjb25zdCBnZW5lcmF0ZUN1YmUgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgaWRDb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBCb3hHZW9tZXRyeSgpO1xuICAgICAgY29uc3QgcG9zaXRpb25zID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7XG4gICAgICBjb25zdCBjb3VudCA9IHBvc2l0aW9ucy5jb3VudDtcbiAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShcbiAgICAgICAgXCJjb2xvclwiLFxuICAgICAgICBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoY291bnQgKiA0KSwgNClcbiAgICAgICk7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwib3JpZ2luYWxDb2xvclwiLFxuICAgICAgICBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoY291bnQgKiA0KSwgNClcbiAgICAgICk7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwibWVzaF9pZFwiLFxuICAgICAgICBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoY291bnQpLCAxKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgY29sb3JzID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwiY29sb3JcIik7XG4gICAgICBjb25zdCBvcmlnaW5hbENvbG9yID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwib3JpZ2luYWxDb2xvclwiKTtcbiAgICAgIGNvbnN0IGlkQXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwibWVzaF9pZFwiKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIHBvc2l0aW9ucy5zZXRYWVooXG4gICAgICAgICAgaSxcbiAgICAgICAgICBwb3NpdGlvbnMuZ2V0WChpKSArIHggKiBwaXRjaCAtIG9mZnNldCxcbiAgICAgICAgICBwb3NpdGlvbnMuZ2V0WShpKSArIHkgKiBwaXRjaCAtIG9mZnNldCxcbiAgICAgICAgICBwb3NpdGlvbnMuZ2V0WihpKSArIHogKiBwaXRjaCAtIG9mZnNldFxuICAgICAgICApO1xuICAgICAgICBjb2xvcnMuc2V0WFlaVyhpLCB4IC8gbnVtQ3ViZSwgeSAvIG51bUN1YmUsIHogLyBudW1DdWJlLCAwLjEpO1xuICAgICAgICBvcmlnaW5hbENvbG9yLnNldFhZWlcoaSwgeCAvIG51bUN1YmUsIHkgLyBudW1DdWJlLCB6IC8gbnVtQ3ViZSwgMC4xKTtcbiAgICAgICAgaWRBdHRyaWJ1dGUuc2V0WChpLCBpZENvdW50KTtcbiAgICAgIH1cbiAgICAgIGdlb21ldHJ5QXJyYXkucHVzaChnZW9tZXRyeSk7XG4gICAgfTtcblxuICAgIGxldCBpZENvdW50ZXIgPSAwO1xuICAgIGZvciAobGV0IHggPSAwOyB4IDwgbnVtQ3ViZTsgeCsrKSB7XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IG51bUN1YmU7IHkrKykge1xuICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IG51bUN1YmU7IHorKykge1xuICAgICAgICAgIGdlbmVyYXRlQ3ViZSh4LCB5LCB6LCBpZENvdW50ZXIpO1xuICAgICAgICAgIGlkQ291bnRlcisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWVyZ2VkTWVzaCA9IG5ldyBNZXNoKFxuICAgICAgbWVyZ2VHZW9tZXRyaWVzKGdlb21ldHJ5QXJyYXkpLFxuICAgICAgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgdHJhbnNwYXJlbnQ6IHRydWUsIHZlcnRleENvbG9yczogdHJ1ZSB9KVxuICAgICk7XG5cbiAgICBzY2VuZS5hZGQobWVyZ2VkTWVzaCk7XG4gICAgcmV0dXJuIG1lcmdlZE1lc2g7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKFxuICAgIG1lcmdlZE1lc2g6IE9iamVjdDNELFxuICAgIGluZm9Db250YWluZXI6IEhUTUxEaXZFbGVtZW50LFxuICAgIHJlbmRlcmVyOiBXZWJHTFJlbmRlcmVyLFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBjYW1lcmE6IENhbWVyYVxuICApIHtcbiAgICBjb25zdCByZW5kZXJpbmcgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVlZCA9IDAuMDE7XG4gICAgICBtZXJnZWRNZXNoLnJvdGF0aW9uLnggKz0gc3BlZWQ7XG4gICAgICBtZXJnZWRNZXNoLnJvdGF0aW9uLnkgKz0gc3BlZWQ7XG4gICAgICBtZXJnZWRNZXNoLnJvdGF0aW9uLnogKz0gc3BlZWQ7XG4gICAgICBtZXJnZWRNZXNoLnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICB0aGlzLnN0YXRzLmJlZ2luKCk7XG5cbiAgICAgIHRoaXMucmF5Y2FzdGVyPy5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2VQb2ludCwgY2FtZXJhKTtcbiAgICAgIGNvbnN0IGludGVyc2VjdHMgPSB0aGlzLnJheWNhc3Rlcj8uaW50ZXJzZWN0T2JqZWN0KG1lcmdlZE1lc2gsIGZhbHNlKTtcblxuICAgICAgaWYgKGludGVyc2VjdHM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3QoaW50ZXJzZWN0c1swXSwgKG1lcmdlZE1lc2ggYXMgTWVzaCkuZ2VvbWV0cnkpO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICB0aGlzLnN0YXRzLmVuZCgpO1xuXG4gICAgICBDb21tb24udXBkYXRlUmVuZGVyZXJJbmZvKGluZm9Db250YWluZXIsIHJlbmRlcmVyLmluZm8ucmVuZGVyKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJpbmcpO1xuICAgIH07XG4gICAgcmVuZGVyaW5nKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUludGVyc2VjdChpbnRlcnNlY3Q6IEludGVyc2VjdGlvbiwgZ2VvOiBCdWZmZXJHZW9tZXRyeSk6IHZvaWQge1xuICAgIGNvbnN0IGlkQXR0cmlidXRlID0gZ2VvLmdldEF0dHJpYnV0ZShcIm1lc2hfaWRcIik7XG4gICAgY29uc3QgZmFjZSA9IGludGVyc2VjdC5mYWNlIGFzIEZhY2U7XG4gICAgY29uc3QgbWVzaElEID0gaWRBdHRyaWJ1dGUuZ2V0WChmYWNlLmEpO1xuXG4gICAgaWYgKFxuICAgICAgaWRBdHRyaWJ1dGUuZ2V0WChmYWNlLmEpICE9PSBpZEF0dHJpYnV0ZS5nZXRYKGZhY2UuYikgfHxcbiAgICAgIGlkQXR0cmlidXRlLmdldFgoZmFjZS5hKSAhPT0gaWRBdHRyaWJ1dGUuZ2V0WChmYWNlLmMpXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgaWRBdHRyaWJ1dGUuZ2V0WChmYWNlLmEpLFxuICAgICAgICBpZEF0dHJpYnV0ZS5nZXRYKGZhY2UuYiksXG4gICAgICAgIGlkQXR0cmlidXRlLmdldFgoZmFjZS5jKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb2xvckF0dHJpYnV0ZSA9IGdlby5nZXRBdHRyaWJ1dGUoXCJjb2xvclwiKTtcbiAgICBjb25zdCBvcmlnaW5hbENvbG9yQXR0cmlidXRlID0gZ2VvLmdldEF0dHJpYnV0ZShcIm9yaWdpbmFsQ29sb3JcIik7XG4gICAgY29uc3QgY291bnQgPSBpZEF0dHJpYnV0ZS5jb3VudDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgaWYgKGlkQXR0cmlidXRlLmdldFgoaSkgPT09IG1lc2hJRCkge1xuICAgICAgICBjb2xvckF0dHJpYnV0ZS5zZXRYWVpXKGksIDEsIDEsIDEsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sb3JBdHRyaWJ1dGUuc2V0WFlaVyhcbiAgICAgICAgICBpLFxuICAgICAgICAgIG9yaWdpbmFsQ29sb3JBdHRyaWJ1dGUuZ2V0WChpKSxcbiAgICAgICAgICBvcmlnaW5hbENvbG9yQXR0cmlidXRlLmdldFkoaSksXG4gICAgICAgICAgb3JpZ2luYWxDb2xvckF0dHJpYnV0ZS5nZXRaKGkpLFxuICAgICAgICAgIG9yaWdpbmFsQ29sb3JBdHRyaWJ1dGUuZ2V0VyhpKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2xvckF0dHJpYnV0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gIH1cbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgY29uc3Qgc3R1ZHkgPSBuZXcgU3R1ZHlNZXJnZWRHZW9tZXRyeUludGVyYWN0aXZlKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7524\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(F.exports,F,F.exports,__webpack_require__),F.loaded=!0,F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var e=1/0;for(I=0;I<deferred.length;I++){for(var[U,F,B]=deferred[I],n=!0,s=0;s<U.length;s++)(!1&B||e>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[s])))?U.splice(s--,1):(n=!1,B<e&&(e=B));if(n){deferred.splice(I--,1);var t=F();void 0!==t&&(Q=t)}}return Q}B=B||0;for(var I=deferred.length;I>0&&deferred[I-1][2]>B;I--)deferred[I]=deferred[I-1];deferred[I]=[U,F,B]},__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=878,(()=>{var Q={878:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,e,[n,s,t]=F,I=0;if(n.some((U=>0!==Q[U]))){for(B in s)__webpack_require__.o(s,B)&&(__webpack_require__.m[B]=s[B]);if(t)var g=t(__webpack_require__)}for(U&&U(F);I<n.length;I++)e=n[I],__webpack_require__.o(Q,e)&&Q[e]&&Q[e][0](),Q[e]=0;return __webpack_require__.O(g)},F=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(7524)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();