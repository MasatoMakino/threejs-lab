(()=>{"use strict";var __webpack_modules__={8620:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// UNUSED EXPORTS: StudyWater\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(6753);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(3580);\n;// CONCATENATED MODULE: ./src/Common.ts\n\n\nvar Common = /** @class */ (function () {\n    function Common() {\n    }\n    Common.initScene = function () {\n        var scene = new three_module.Scene();\n        return scene;\n    };\n    Common.initLight = function (scene) {\n        var ambientLight = new three_module.AmbientLight(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    };\n    Common.initCamera = function (scene, W, H, near, far) {\n        if (near === void 0) { near = 1; }\n        if (far === void 0) { far = 400; }\n        var camera = new three_module.PerspectiveCamera(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    };\n    Common.initControl = function (camera, render) {\n        var domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        var control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    };\n    Common.initRenderer = function (W, H, color, id, antialias) {\n        if (color === void 0) { color = 0x000000; }\n        if (id === void 0) { id = "webgl-canvas"; }\n        if (antialias === void 0) { antialias = true; }\n        var renderer = new three_module.WebGLRenderer({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    };\n    Common.initRendererSettings = function (renderer, color, W, H) {\n        renderer.setClearColor(new three_module.Color(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_module.REVISION);\n    };\n    Common.initHelper = function (scene) {\n        var axesHelper = new three_module.AxesHelper(30);\n        scene.add(axesHelper);\n    };\n    Common.render = function (control, renderer, scene, camera, onBeforeRender) {\n        var rendering = function () {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.render(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    Common.addRendererInfo = function () {\n        var info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    };\n    Common.updateRendererInfo = function (div, info) {\n        div.innerText = JSON.stringify(info);\n    };\n    return Common;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/objects/Water.js\nvar Water = __webpack_require__(7199);\n;// CONCATENATED MODULE: ./src/water/WaterMesh.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar WaterMesh = /** @class */ (function (_super) {\n    __extends(WaterMesh, _super);\n    function WaterMesh(geometry, options) {\n        var _this = _super.call(this, geometry, options) || this;\n        /**\n         * uniformsのtime変数を加算する。\n         * requestAnimationFrameから呼び出される。\n         *\n         * @param timestamp\n         */\n        _this.onRequestAnimationFrame = function (timestamp) {\n            if (!_this.currentTimeStamp)\n                _this.currentTimeStamp = timestamp;\n            var delta = timestamp - _this.currentTimeStamp;\n            _this.material.uniforms.time.value += delta / 3000;\n            _this.requestID = requestAnimationFrame(_this.onRequestAnimationFrame);\n            _this.currentTimeStamp = timestamp;\n        };\n        _this.option = options;\n        _this.rotation.x = -Math.PI / 2;\n        _this.requestID = requestAnimationFrame(_this.onRequestAnimationFrame);\n        return _this;\n    }\n    /**\n     * 受け取ったライトを元に反射光の状態を更新する。\n     * @param light\n     */\n    WaterMesh.prototype.updateSun = function (light) {\n        WaterMesh.updateSunOption(this.option, light);\n        var mat = this.material;\n        mat.uniforms.sunDirection.value = this.option.sunDirection;\n        mat.uniforms.sunColor.value = this.option.sunColor;\n    };\n    /**\n     * ライトオブジェクトから位置と色を取り出し、オプションに追記する。\n     * @param options\n     * @param light\n     */\n    WaterMesh.updateSunOption = function (options, light) {\n        options.sunDirection = light.position.clone().normalize();\n        options.sunColor = light.color.clone();\n    };\n    /**\n     * ノーマルマップの読み込みと設定を行う。\n     * @param url\n     */\n    WaterMesh.loadNormalSampler = function (url) {\n        return new three_module.TextureLoader().load(url, function (texture) {\n            texture.wrapS = texture.wrapT = three_module.RepeatWrapping;\n        });\n    };\n    return WaterMesh;\n}(Water/* Water */.E));\n\n\n;// CONCATENATED MODULE: ./src/StudyWater.ts\n\n\n\nvar StudyWater = /** @class */ (function () {\n    function StudyWater() {\n        var scene = Common.initScene();\n        Common.initLight(scene);\n        var camera = Common.initCamera(scene, StudyWater.W, StudyWater.H);\n        camera.position.set(0, 20, 100);\n        var renderer = Common.initRenderer(StudyWater.W, StudyWater.H, 0x999999);\n        var control = Common.initControl(camera, renderer);\n        Common.initHelper(scene);\n        this.initObject(scene);\n        Common.render(control, renderer, scene, camera);\n    }\n    StudyWater.prototype.initObject = function (scene) {\n        var light = new three_module.DirectionalLight(0xffffff, 1.0);\n        light.position.set(80.707, 80.707, 0);\n        scene.add(light);\n        var helper = new three_module.DirectionalLightHelper(light, 15);\n        scene.add(helper);\n        var waterGeometry = new three_module.PlaneGeometry(10000, 10000);\n        var option = {\n            waterNormals: WaterMesh.loadNormalSampler("textures/waternormals.jpg"),\n            // alpha: 1.0,\n            // waterColor: 0x001e0f,\n            // distortionScale: 3.7,\n            fog: scene.fog !== undefined,\n        };\n        WaterMesh.updateSunOption(option, light);\n        this.water = new WaterMesh(waterGeometry, option);\n        scene.add(this.water);\n    };\n    StudyWater.W = 640;\n    StudyWater.H = 480;\n    return StudyWater;\n}());\n\nwindow.onload = function () {\n    var study = new StudyWater();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakIsSUFBTSxNQUFNLEdBQUcsSUFBSSxtQ0FBc0IsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVsQixJQUFNLGFBQWEsR0FBRyxJQUFJLDBCQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXRELElBQU0sTUFBTSxHQUFpQjtZQUMzQixZQUFZLEVBQUUsU0FBUyxDQUFDLGlCQUFpQixDQUFDLDJCQUEyQixDQUFDO1lBQ3RFLGNBQWM7WUFDZCx3QkFBd0I7WUFDeEIsd0JBQXdCO1lBQ3hCLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRyxLQUFLLFNBQVM7U0FDN0IsQ0FBQztRQUNGLFNBQVMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxTQUFTLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRWxELEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUF0Q3NCLFlBQUMsR0FBRyxHQUFHLENBQUM7SUFDUixZQUFDLEdBQUcsR0FBRyxDQUFDO0lBc0NqQyxpQkFBQztDQUFBO0FBeENzQjtBQTBDdkIsTUFBTSxDQUFDLE1BQU0sR0FBRztJQUNkLElBQU0sS0FBSyxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7QUFDakMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvQ29tbW9uLnRzPzczMzAiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvd2F0ZXIvV2F0ZXJNZXNoLnRzP2YwN2UiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvU3R1ZHlXYXRlci50cz84ODNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFtYmllbnRMaWdodCxcbiAgQXhlc0hlbHBlcixcbiAgQ2FtZXJhLFxuICBDb2xvcixcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFNjZW5lLFxuICBXZWJHTFJlbmRlcmVyLFxuICBSRVZJU0lPTixcbn0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21tb24ge1xuICBwdWJsaWMgc3RhdGljIGluaXRTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHJldHVybiBzY2VuZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdExpZ2h0KHNjZW5lKSB7XG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IEFtYmllbnRMaWdodCgweGZmZmZmZiwgMS4wKTtcbiAgICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcbiAgICByZXR1cm4gYW1iaWVudExpZ2h0O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q2FtZXJhKFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyLFxuICAgIG5lYXIgPSAxLFxuICAgIGZhciA9IDQwMFxuICApOiBQZXJzcGVjdGl2ZUNhbWVyYSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCBXIC8gSCwgbmVhciwgZmFyKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDEwMCk7XG4gICAgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKGZhbHNlKTtcbiAgICBzY2VuZS5hZGQoY2FtZXJhKTtcbiAgICByZXR1cm4gY2FtZXJhO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q29udHJvbChcbiAgICBjYW1lcmE6IENhbWVyYSxcbiAgICByZW5kZXI6IFdlYkdMUmVuZGVyZXJcbiAgKTogT3JiaXRDb250cm9scyB7XG4gICAgbGV0IGRvbUVsZW1lbnQ7XG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgZG9tRWxlbWVudCA9IHJlbmRlci5kb21FbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCBkb21FbGVtZW50KTtcbiAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgIHJldHVybiBjb250cm9sO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0UmVuZGVyZXIoXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlcixcbiAgICBjb2xvcjogbnVtYmVyID0gMHgwMDAwMDAsXG4gICAgaWQ6IHN0cmluZyA9IFwid2ViZ2wtY2FudmFzXCIsXG4gICAgYW50aWFsaWFzOiBib29sZWFuID0gdHJ1ZVxuICApIHtcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBXZWJHTFJlbmRlcmVyKHtcbiAgICAgIGNhbnZhczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50LFxuICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG4gICAgfSk7XG4gICAgdGhpcy5pbml0UmVuZGVyZXJTZXR0aW5ncyhyZW5kZXJlciwgY29sb3IsIFcsIEgpO1xuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGluaXRSZW5kZXJlclNldHRpbmdzKFxuICAgIHJlbmRlcmVyOiBXZWJHTFJlbmRlcmVyLFxuICAgIGNvbG9yOiBudW1iZXIsXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlclxuICApIHtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBDb2xvcihjb2xvcikpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoVywgSCk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgY29uc29sZS5sb2coXCJ0aHJlZS5qcyByZXZpc2lvbjogXCIsIFJFVklTSU9OKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEhlbHBlcihzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IEF4ZXNIZWxwZXIoMzApO1xuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcmVuZGVyKFxuICAgIGNvbnRyb2w6IE9yYml0Q29udHJvbHMsXG4gICAgcmVuZGVyZXI6IFdlYkdMUmVuZGVyZXIsXG4gICAgc2NlbmU6IFNjZW5lLFxuICAgIGNhbWVyYTogQ2FtZXJhLFxuICAgIG9uQmVmb3JlUmVuZGVyPzogKCkgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCByZW5kZXJpbmcgPSAoKSA9PiB7XG4gICAgICBpZiAob25CZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgb25CZWZvcmVSZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIGNvbnRyb2wudXBkYXRlKCk7XG4gICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyaW5nKTtcbiAgICB9O1xuICAgIHJlbmRlcmluZygpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBhZGRSZW5kZXJlckluZm8oKTogSFRNTERpdkVsZW1lbnQge1xuICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHVwZGF0ZVJlbmRlcmVySW5mbyhkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmZvOiBhbnkpOiB2b2lkIHtcbiAgICBkaXYuaW5uZXJUZXh0ID0gSlNPTi5zdHJpbmdpZnkoaW5mbyk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEJ1ZmZlckdlb21ldHJ5LFxuICBMaWdodCxcbiAgUmVwZWF0V3JhcHBpbmcsXG4gIFNoYWRlck1hdGVyaWFsLFxuICBUZXh0dXJlLFxuICBUZXh0dXJlTG9hZGVyLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IFdhdGVyLCBXYXRlck9wdGlvbnMgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL29iamVjdHMvV2F0ZXIuanNcIjtcblxuZXhwb3J0IGNsYXNzIFdhdGVyTWVzaCBleHRlbmRzIFdhdGVyIHtcbiAgcHJpdmF0ZSBvcHRpb246IFdhdGVyT3B0aW9ucztcblxuICBwcml2YXRlIGN1cnJlbnRUaW1lU3RhbXA7XG4gIHByaXZhdGUgcmVxdWVzdElEO1xuXG4gIGNvbnN0cnVjdG9yKGdlb21ldHJ5OiBCdWZmZXJHZW9tZXRyeSwgb3B0aW9uczogV2F0ZXJPcHRpb25zKSB7XG4gICAgc3VwZXIoZ2VvbWV0cnksIG9wdGlvbnMpO1xuICAgIHRoaXMub3B0aW9uID0gb3B0aW9ucztcbiAgICB0aGlzLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XG4gICAgdGhpcy5yZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5vblJlcXVlc3RBbmltYXRpb25GcmFtZSk7XG4gIH1cblxuICAvKipcbiAgICog5Y+X44GR5Y+W44Gj44Gf44Op44Kk44OI44KS5YWD44Gr5Y+N5bCE5YWJ44Gu54q25oWL44KS5pu05paw44GZ44KL44CCXG4gICAqIEBwYXJhbSBsaWdodFxuICAgKi9cbiAgcHVibGljIHVwZGF0ZVN1bihsaWdodDogTGlnaHQpOiB2b2lkIHtcbiAgICBXYXRlck1lc2gudXBkYXRlU3VuT3B0aW9uKHRoaXMub3B0aW9uLCBsaWdodCk7XG4gICAgY29uc3QgbWF0ID0gPFNoYWRlck1hdGVyaWFsPnRoaXMubWF0ZXJpYWw7XG4gICAgbWF0LnVuaWZvcm1zLnN1bkRpcmVjdGlvbi52YWx1ZSA9IHRoaXMub3B0aW9uLnN1bkRpcmVjdGlvbjtcbiAgICBtYXQudW5pZm9ybXMuc3VuQ29sb3IudmFsdWUgPSB0aGlzLm9wdGlvbi5zdW5Db2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6njgqTjg4jjgqrjg5bjgrjjgqfjgq/jg4jjgYvjgonkvY3nva7jgajoibLjgpLlj5bjgorlh7rjgZfjgIHjgqrjg5fjgrfjg6fjg7Pjgavov73oqJjjgZnjgovjgIJcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIGxpZ2h0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHVwZGF0ZVN1bk9wdGlvbihvcHRpb25zOiBXYXRlck9wdGlvbnMsIGxpZ2h0OiBMaWdodCk6IHZvaWQge1xuICAgIG9wdGlvbnMuc3VuRGlyZWN0aW9uID0gbGlnaHQucG9zaXRpb24uY2xvbmUoKS5ub3JtYWxpemUoKTtcbiAgICBvcHRpb25zLnN1bkNvbG9yID0gbGlnaHQuY29sb3IuY2xvbmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg47jg7zjg57jg6vjg57jg4Pjg5fjga7oqq3jgb/ovrzjgb/jgajoqK3lrprjgpLooYzjgYbjgIJcbiAgICogQHBhcmFtIHVybFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBsb2FkTm9ybWFsU2FtcGxlcih1cmw6IHN0cmluZyk6IFRleHR1cmUge1xuICAgIHJldHVybiBuZXcgVGV4dHVyZUxvYWRlcigpLmxvYWQodXJsLCAodGV4dHVyZSkgPT4ge1xuICAgICAgdGV4dHVyZS53cmFwUyA9IHRleHR1cmUud3JhcFQgPSBSZXBlYXRXcmFwcGluZztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1bmlmb3Jtc+OBrnRpbWXlpInmlbDjgpLliqDnrpfjgZnjgovjgIJcbiAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1l44GL44KJ5ZG844Gz5Ye644GV44KM44KL44CCXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lc3RhbXBcbiAgICovXG4gIHByaXZhdGUgb25SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAodGltZXN0YW1wOiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFRpbWVTdGFtcCkgdGhpcy5jdXJyZW50VGltZVN0YW1wID0gdGltZXN0YW1wO1xuICAgIGNvbnN0IGRlbHRhID0gdGltZXN0YW1wIC0gdGhpcy5jdXJyZW50VGltZVN0YW1wO1xuXG4gICAgKDxTaGFkZXJNYXRlcmlhbD50aGlzLm1hdGVyaWFsKS51bmlmb3Jtcy50aW1lLnZhbHVlICs9IGRlbHRhIC8gMzAwMDtcblxuICAgIHRoaXMucmVxdWVzdElEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25SZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICAgIHRoaXMuY3VycmVudFRpbWVTdGFtcCA9IHRpbWVzdGFtcDtcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGlvbmFsTGlnaHQsXG4gIERpcmVjdGlvbmFsTGlnaHRIZWxwZXIsXG4gIFBsYW5lR2VvbWV0cnksXG4gIFNjZW5lLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IFdhdGVyT3B0aW9ucyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vb2JqZWN0cy9XYXRlci5qc1wiO1xuaW1wb3J0IHsgQ29tbW9uIH0gZnJvbSBcIi4vQ29tbW9uXCI7XG5pbXBvcnQgeyBXYXRlck1lc2ggfSBmcm9tIFwiLi93YXRlci9XYXRlck1lc2hcIjtcblxuZXhwb3J0IGNsYXNzIFN0dWR5V2F0ZXIge1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFcgPSA2NDA7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSCA9IDQ4MDtcblxuICBwdWJsaWMgd2F0ZXI6IFdhdGVyTWVzaDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBzY2VuZSA9IENvbW1vbi5pbml0U2NlbmUoKTtcbiAgICBDb21tb24uaW5pdExpZ2h0KHNjZW5lKTtcbiAgICBjb25zdCBjYW1lcmEgPSBDb21tb24uaW5pdENhbWVyYShzY2VuZSwgU3R1ZHlXYXRlci5XLCBTdHVkeVdhdGVyLkgpO1xuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMjAsIDEwMCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDb21tb24uaW5pdFJlbmRlcmVyKFN0dWR5V2F0ZXIuVywgU3R1ZHlXYXRlci5ILCAweDk5OTk5OSk7XG4gICAgY29uc3QgY29udHJvbCA9IENvbW1vbi5pbml0Q29udHJvbChjYW1lcmEsIHJlbmRlcmVyKTtcbiAgICBDb21tb24uaW5pdEhlbHBlcihzY2VuZSk7XG4gICAgdGhpcy5pbml0T2JqZWN0KHNjZW5lKTtcbiAgICBDb21tb24ucmVuZGVyKGNvbnRyb2wsIHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdE9iamVjdChzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICBjb25zdCBsaWdodCA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAxLjApO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCg4MC43MDcsIDgwLjcwNywgMCk7XG4gICAgc2NlbmUuYWRkKGxpZ2h0KTtcbiAgICBjb25zdCBoZWxwZXIgPSBuZXcgRGlyZWN0aW9uYWxMaWdodEhlbHBlcihsaWdodCwgMTUpO1xuICAgIHNjZW5lLmFkZChoZWxwZXIpO1xuXG4gICAgY29uc3Qgd2F0ZXJHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KDEwMDAwLCAxMDAwMCk7XG5cbiAgICBjb25zdCBvcHRpb246IFdhdGVyT3B0aW9ucyA9IHtcbiAgICAgIHdhdGVyTm9ybWFsczogV2F0ZXJNZXNoLmxvYWROb3JtYWxTYW1wbGVyKFwidGV4dHVyZXMvd2F0ZXJub3JtYWxzLmpwZ1wiKSxcbiAgICAgIC8vIGFscGhhOiAxLjAsXG4gICAgICAvLyB3YXRlckNvbG9yOiAweDAwMWUwZixcbiAgICAgIC8vIGRpc3RvcnRpb25TY2FsZTogMy43LFxuICAgICAgZm9nOiBzY2VuZS5mb2cgIT09IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIFdhdGVyTWVzaC51cGRhdGVTdW5PcHRpb24ob3B0aW9uLCBsaWdodCk7XG5cbiAgICB0aGlzLndhdGVyID0gbmV3IFdhdGVyTWVzaCh3YXRlckdlb21ldHJ5LCBvcHRpb24pO1xuXG4gICAgc2NlbmUuYWRkKHRoaXMud2F0ZXIpO1xuICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIGNvbnN0IHN0dWR5ID0gbmV3IFN0dWR5V2F0ZXIoKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8620\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.loaded=!0,U.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,F,U,B)=>{if(!F){var e=1/0;for(c=0;c<deferred.length;c++){for(var[F,U,B]=deferred[c],n=!0,t=0;t<F.length;t++)(!1&B||e>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](F[t])))?F.splice(t--,1):(n=!1,B<e&&(e=B));if(n){deferred.splice(c--,1);var s=U();void 0!==s&&(Q=s)}}return Q}B=B||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>B;c--)deferred[c]=deferred[c-1];deferred[c]=[F,U,B]},__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=659,(()=>{var Q={659:0};__webpack_require__.O.j=F=>0===Q[F];var F=(F,U)=>{var B,e,[n,t,s]=U,c=0;if(n.some((F=>0!==Q[F]))){for(B in t)__webpack_require__.o(t,B)&&(__webpack_require__.m[B]=t[B]);if(s)var i=s(__webpack_require__)}for(F&&F(U);c<n.length;c++)e=n[c],__webpack_require__.o(Q,e)&&Q[e]&&Q[e][0](),Q[e]=0;return __webpack_require__.O(i)},U=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];U.forEach(F.bind(null,0)),U.push=F.bind(null,U.push.bind(U))})();var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(8620)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();