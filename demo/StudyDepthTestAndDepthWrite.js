(()=>{"use strict";var __webpack_modules__={64:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// UNUSED EXPORTS: StudyDepthTestAndDepthWrite\n\n// EXTERNAL MODULE: ./node_modules/lil-gui/dist/lil-gui.esm.js\nvar lil_gui_esm = __webpack_require__(638);\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(6753);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(3580);\n;// CONCATENATED MODULE: ./src/Common.ts\n\n\nvar Common = /** @class */ (function () {\n    function Common() {\n    }\n    Common.initScene = function () {\n        var scene = new three_module.Scene();\n        return scene;\n    };\n    Common.initLight = function (scene) {\n        var ambientLight = new three_module.AmbientLight(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    };\n    Common.initCamera = function (scene, W, H, near, far) {\n        if (near === void 0) { near = 1; }\n        if (far === void 0) { far = 400; }\n        var camera = new three_module.PerspectiveCamera(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    };\n    Common.initControl = function (camera, render) {\n        var domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        var control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    };\n    Common.initRenderer = function (W, H, color, id, antialias) {\n        if (color === void 0) { color = 0x000000; }\n        if (id === void 0) { id = "webgl-canvas"; }\n        if (antialias === void 0) { antialias = true; }\n        var renderer = new three_module.WebGLRenderer({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    };\n    Common.initRendererSettings = function (renderer, color, W, H) {\n        renderer.setClearColor(new three_module.Color(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_module.REVISION);\n    };\n    Common.initHelper = function (scene) {\n        var axesHelper = new three_module.AxesHelper(30);\n        scene.add(axesHelper);\n    };\n    Common.render = function (control, renderer, scene, camera, onBeforeRender) {\n        var rendering = function () {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.render(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    Common.addRendererInfo = function () {\n        var info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    };\n    Common.updateRendererInfo = function (div, info) {\n        div.innerText = JSON.stringify(info);\n    };\n    return Common;\n}());\n\n\n;// CONCATENATED MODULE: ./src/StudyDepthTestAndDepthWrite.ts\n\n\n\nvar StudyDepthTestAndDepthWrite = /** @class */ (function () {\n    function StudyDepthTestAndDepthWrite() {\n        this.scene = Common.initScene();\n        Common.initLight(this.scene);\n        var camera = Common.initCamera(this.scene, StudyDepthTestAndDepthWrite.W, StudyDepthTestAndDepthWrite.H);\n        var renderer = Common.initRenderer(StudyDepthTestAndDepthWrite.W, StudyDepthTestAndDepthWrite.H);\n        var control = Common.initControl(camera, renderer);\n        Common.initHelper(this.scene);\n        this.initObject(this.scene);\n        Common.render(control, renderer, this.scene, camera);\n        this.initGUI();\n    }\n    StudyDepthTestAndDepthWrite.prototype.initObject = function (scene) {\n        var spot = new three_module.PointLight(0xffffff, 10000);\n        spot.position.set(10, 20, 30);\n        scene.add(spot);\n        var helper = new three_module.PointLightHelper(spot);\n        scene.add(helper);\n        this.swapSphere(false);\n        this.switchSatelliteShift(false);\n    };\n    /**\n     * 中央の球体2つのシーンへの登録順のみを入れ替える。\n     * @param isSwap\n     */\n    StudyDepthTestAndDepthWrite.prototype.swapSphere = function (isSwap) {\n        var _a, _b, _c, _d;\n        if (this.inner) {\n            (_b = (_a = this.inner) === null || _a === void 0 ? void 0 : _a.parent) === null || _b === void 0 ? void 0 : _b.remove(this.inner);\n            (_d = (_c = this.outer) === null || _c === void 0 ? void 0 : _c.parent) === null || _d === void 0 ? void 0 : _d.remove(this.outer);\n            this.inner = undefined;\n            this.outer = undefined;\n        }\n        var self = StudyDepthTestAndDepthWrite;\n        if (!isSwap) {\n            this.outer = self.initSphere(15, 0xff00ff, this.scene);\n            this.inner = self.initSphere(10, 0xffff00, this.scene);\n        }\n        else {\n            this.inner = self.initSphere(10, 0xffff00, this.scene);\n            this.outer = self.initSphere(15, 0xff00ff, this.scene);\n        }\n    };\n    StudyDepthTestAndDepthWrite.initSphere = function (r, color, scene) {\n        var geo = new three_module.SphereGeometry(r, 64, 64);\n        var mat = new three_module.MeshPhongMaterial({\n            fog: scene.fog !== undefined,\n            transparent: true,\n            opacity: 0.5,\n            color: new three_module.Color(color),\n        });\n        var mesh = new three_module.Mesh(geo, mat);\n        scene.add(mesh);\n        return mesh;\n    };\n    StudyDepthTestAndDepthWrite.prototype.switchDepthTest = function (val) {\n        var spheres = [this.outer, this.inner, this.satellite];\n        spheres.forEach(function (sphere) {\n            (sphere === null || sphere === void 0 ? void 0 : sphere.material).depthTest = val;\n        });\n    };\n    StudyDepthTestAndDepthWrite.prototype.switchDepthWrite = function (val) {\n        var spheres = [this.outer, this.inner, this.satellite];\n        spheres.forEach(function (sphere) {\n            (sphere === null || sphere === void 0 ? void 0 : sphere.material).depthWrite = val;\n        });\n    };\n    StudyDepthTestAndDepthWrite.prototype.switchSatelliteShift = function (isMeshPosition) {\n        var _a;\n        if (this.satellite) {\n            (_a = this.satellite.parent) === null || _a === void 0 ? void 0 : _a.remove(this.satellite);\n            this.satellite = undefined;\n        }\n        var self = StudyDepthTestAndDepthWrite;\n        this.satellite = self.initSphere(5, 0xffffff, this.scene);\n        var satelliteX = 30;\n        if (isMeshPosition) {\n            this.satellite.position.x = satelliteX;\n        }\n        else {\n            this.satellite.geometry.translate(satelliteX, 0, 0);\n        }\n    };\n    StudyDepthTestAndDepthWrite.prototype.initGUI = function () {\n        var _this = this;\n        var prop = {\n            alpha: 0.5,\n            satelliteShiftIsMeshPosition: false,\n            depthTest: true,\n            depthWrite: true,\n        };\n        var gui = new lil_gui_esm/* GUI */.cL();\n        //外部ボールがメッシュポジションか、ジオメトリシフトかで結果が変わる。\n        var meshFolder = gui.addFolder("Mesh");\n        meshFolder.add(prop, "alpha", 0.0, 1.0).onChange(function (val) {\n            var spheres = [_this.outer, _this.inner, _this.satellite];\n            spheres.forEach(function (sphere) {\n                (sphere === null || sphere === void 0 ? void 0 : sphere.material).opacity = val;\n            });\n        });\n        meshFolder.open();\n        var satelliteFolder = gui.addFolder("satellite");\n        satelliteFolder\n            .add(prop, "satelliteShiftIsMeshPosition")\n            .onChange(function (val) {\n            _this.switchSatelliteShift(val);\n        });\n        satelliteFolder.open();\n        var depthFolder = gui.addFolder("depth");\n        depthFolder.add(prop, "depthTest").onChange(function (val) {\n            _this.switchDepthTest(val);\n        });\n        depthFolder.add(prop, "depthWrite").onChange(function (val) {\n            _this.switchDepthWrite(val);\n        });\n        depthFolder.open();\n        var innerFolder = gui.addFolder("Inner Sphere");\n        var innerParam = {\n            x: 0.0,\n        };\n        innerFolder.add(innerParam, "x", 0, 20).onChange(function (val) {\n            if (_this.inner) {\n                _this.inner.position.x = val;\n            }\n        });\n        innerFolder.open();\n        var renderOrderFolder = gui.addFolder("Render Order");\n        var orders = {\n            inner: 0.0,\n            outer: 0.0,\n            satellite: 0.0,\n        };\n        var min = -3;\n        var max = 3;\n        var step = 1;\n        renderOrderFolder\n            .add(orders, "inner", min, max)\n            .step(step)\n            .onChange(function (val) {\n            if (_this.inner) {\n                _this.inner.renderOrder = val;\n            }\n        });\n        renderOrderFolder\n            .add(orders, "outer", min, max)\n            .step(step)\n            .onChange(function (val) {\n            if (_this.outer) {\n                _this.outer.renderOrder = val;\n            }\n        });\n        renderOrderFolder\n            .add(orders, "satellite", min, max)\n            .step(step)\n            .onChange(function (val) {\n            if (_this.satellite)\n                _this.satellite.renderOrder = val;\n        });\n        renderOrderFolder.open();\n        var sceneFolder = gui.addFolder("Scene");\n        var sceneParam = {\n            SwapSphere: false,\n        };\n        sceneFolder.add(sceneParam, "SwapSphere").onChange(function (val) {\n            _this.swapSphere(val);\n            if (_this.inner)\n                _this.inner.position.x = innerParam.x;\n        });\n        sceneFolder.open();\n    };\n    StudyDepthTestAndDepthWrite.W = 640;\n    StudyDepthTestAndDepthWrite.H = 480;\n    return StudyDepthTestAndDepthWrite;\n}());\n\nwindow.onload = function () {\n    var study = new StudyDepthTestAndDepthWrite();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0MsSUFBTSxVQUFVLEdBQUc7WUFDakIsVUFBVSxFQUFFLEtBQUs7U0FDbEIsQ0FBQztRQUNGLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFDLEdBQUc7WUFDckQsS0FBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQixJQUFJLEtBQUksQ0FBQyxLQUFLO2dCQUFFLEtBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELENBQUMsQ0FBQyxDQUFDO1FBRUgsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFuTXNCLDZCQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ1IsNkJBQUMsR0FBRyxHQUFHLENBQUM7SUFtTWpDLGtDQUFDO0NBQUE7QUFyTXVDO0FBdU14QyxNQUFNLENBQUMsTUFBTSxHQUFHO0lBQ2QsSUFBTSxLQUFLLEdBQUcsSUFBSSwyQkFBMkIsRUFBRSxDQUFDO0FBQ2xELENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RocmVlanMtbGFiLy4vc3JjL0NvbW1vbi50cz83MzMwIiwid2VicGFjazovL3RocmVlanMtbGFiLy4vc3JjL1N0dWR5RGVwdGhUZXN0QW5kRGVwdGhXcml0ZS50cz85ZGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFtYmllbnRMaWdodCxcbiAgQXhlc0hlbHBlcixcbiAgQ2FtZXJhLFxuICBDb2xvcixcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFNjZW5lLFxuICBXZWJHTFJlbmRlcmVyLFxuICBSRVZJU0lPTixcbn0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21tb24ge1xuICBwdWJsaWMgc3RhdGljIGluaXRTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHJldHVybiBzY2VuZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdExpZ2h0KHNjZW5lKSB7XG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IEFtYmllbnRMaWdodCgweGZmZmZmZiwgMS4wKTtcbiAgICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcbiAgICByZXR1cm4gYW1iaWVudExpZ2h0O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q2FtZXJhKFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyLFxuICAgIG5lYXIgPSAxLFxuICAgIGZhciA9IDQwMFxuICApOiBQZXJzcGVjdGl2ZUNhbWVyYSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCBXIC8gSCwgbmVhciwgZmFyKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDEwMCk7XG4gICAgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKGZhbHNlKTtcbiAgICBzY2VuZS5hZGQoY2FtZXJhKTtcbiAgICByZXR1cm4gY2FtZXJhO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q29udHJvbChcbiAgICBjYW1lcmE6IENhbWVyYSxcbiAgICByZW5kZXI6IFdlYkdMUmVuZGVyZXJcbiAgKTogT3JiaXRDb250cm9scyB7XG4gICAgbGV0IGRvbUVsZW1lbnQ7XG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgZG9tRWxlbWVudCA9IHJlbmRlci5kb21FbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCBkb21FbGVtZW50KTtcbiAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgIHJldHVybiBjb250cm9sO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0UmVuZGVyZXIoXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlcixcbiAgICBjb2xvcjogbnVtYmVyID0gMHgwMDAwMDAsXG4gICAgaWQ6IHN0cmluZyA9IFwid2ViZ2wtY2FudmFzXCIsXG4gICAgYW50aWFsaWFzOiBib29sZWFuID0gdHJ1ZVxuICApIHtcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBXZWJHTFJlbmRlcmVyKHtcbiAgICAgIGNhbnZhczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50LFxuICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG4gICAgfSk7XG4gICAgdGhpcy5pbml0UmVuZGVyZXJTZXR0aW5ncyhyZW5kZXJlciwgY29sb3IsIFcsIEgpO1xuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGluaXRSZW5kZXJlclNldHRpbmdzKFxuICAgIHJlbmRlcmVyOiBXZWJHTFJlbmRlcmVyLFxuICAgIGNvbG9yOiBudW1iZXIsXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlclxuICApIHtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBDb2xvcihjb2xvcikpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoVywgSCk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgY29uc29sZS5sb2coXCJ0aHJlZS5qcyByZXZpc2lvbjogXCIsIFJFVklTSU9OKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEhlbHBlcihzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IEF4ZXNIZWxwZXIoMzApO1xuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcmVuZGVyKFxuICAgIGNvbnRyb2w6IE9yYml0Q29udHJvbHMsXG4gICAgcmVuZGVyZXI6IFdlYkdMUmVuZGVyZXIsXG4gICAgc2NlbmU6IFNjZW5lLFxuICAgIGNhbWVyYTogQ2FtZXJhLFxuICAgIG9uQmVmb3JlUmVuZGVyPzogKCkgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCByZW5kZXJpbmcgPSAoKSA9PiB7XG4gICAgICBpZiAob25CZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgb25CZWZvcmVSZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIGNvbnRyb2wudXBkYXRlKCk7XG4gICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyaW5nKTtcbiAgICB9O1xuICAgIHJlbmRlcmluZygpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBhZGRSZW5kZXJlckluZm8oKTogSFRNTERpdkVsZW1lbnQge1xuICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHVwZGF0ZVJlbmRlcmVySW5mbyhkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmZvOiBhbnkpOiB2b2lkIHtcbiAgICBkaXYuaW5uZXJUZXh0ID0gSlNPTi5zdHJpbmdpZnkoaW5mbyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdVSSB9IGZyb20gXCJsaWwtZ3VpXCI7XG5pbXBvcnQge1xuICBDb2xvcixcbiAgTWVzaCxcbiAgTWVzaFBob25nTWF0ZXJpYWwsXG4gIFBvaW50TGlnaHQsXG4gIFBvaW50TGlnaHRIZWxwZXIsXG4gIFNjZW5lLFxuICBTcGhlcmVHZW9tZXRyeSxcbn0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBDb21tb24gfSBmcm9tIFwiLi9Db21tb25cIjtcblxuZXhwb3J0IGNsYXNzIFN0dWR5RGVwdGhUZXN0QW5kRGVwdGhXcml0ZSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVyA9IDY0MDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIID0gNDgwO1xuXG4gIHByaXZhdGUgaW5uZXI/OiBNZXNoO1xuICBwcml2YXRlIG91dGVyPzogTWVzaDtcbiAgcHJpdmF0ZSBzYXRlbGxpdGU/OiBNZXNoO1xuICBwcml2YXRlIHNjZW5lOiBTY2VuZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gQ29tbW9uLmluaXRTY2VuZSgpO1xuICAgIENvbW1vbi5pbml0TGlnaHQodGhpcy5zY2VuZSk7XG4gICAgY29uc3QgY2FtZXJhID0gQ29tbW9uLmluaXRDYW1lcmEoXG4gICAgICB0aGlzLnNjZW5lLFxuICAgICAgU3R1ZHlEZXB0aFRlc3RBbmREZXB0aFdyaXRlLlcsXG4gICAgICBTdHVkeURlcHRoVGVzdEFuZERlcHRoV3JpdGUuSFxuICAgICk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDb21tb24uaW5pdFJlbmRlcmVyKFxuICAgICAgU3R1ZHlEZXB0aFRlc3RBbmREZXB0aFdyaXRlLlcsXG4gICAgICBTdHVkeURlcHRoVGVzdEFuZERlcHRoV3JpdGUuSFxuICAgICk7XG4gICAgY29uc3QgY29udHJvbCA9IENvbW1vbi5pbml0Q29udHJvbChjYW1lcmEsIHJlbmRlcmVyKTtcbiAgICBDb21tb24uaW5pdEhlbHBlcih0aGlzLnNjZW5lKTtcbiAgICB0aGlzLmluaXRPYmplY3QodGhpcy5zY2VuZSk7XG4gICAgQ29tbW9uLnJlbmRlcihjb250cm9sLCByZW5kZXJlciwgdGhpcy5zY2VuZSwgY2FtZXJhKTtcblxuICAgIHRoaXMuaW5pdEdVSSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0T2JqZWN0KHNjZW5lOiBTY2VuZSk6IHZvaWQge1xuICAgIGNvbnN0IHNwb3QgPSBuZXcgUG9pbnRMaWdodCgweGZmZmZmZiwgMTBfMDAwKTtcbiAgICBzcG90LnBvc2l0aW9uLnNldCgxMCwgMjAsIDMwKTtcbiAgICBzY2VuZS5hZGQoc3BvdCk7XG4gICAgY29uc3QgaGVscGVyID0gbmV3IFBvaW50TGlnaHRIZWxwZXIoc3BvdCk7XG4gICAgc2NlbmUuYWRkKGhlbHBlcik7XG5cbiAgICB0aGlzLnN3YXBTcGhlcmUoZmFsc2UpO1xuICAgIHRoaXMuc3dpdGNoU2F0ZWxsaXRlU2hpZnQoZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIOS4reWkruOBrueQg+S9kzLjgaTjga7jgrfjg7zjg7Pjgbjjga7nmbvpjLLpoIbjga7jgb/jgpLlhaXjgozmm7/jgYjjgovjgIJcbiAgICogQHBhcmFtIGlzU3dhcFxuICAgKi9cbiAgcHVibGljIHN3YXBTcGhlcmUoaXNTd2FwOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW5uZXIpIHtcbiAgICAgIHRoaXMuaW5uZXI/LnBhcmVudD8ucmVtb3ZlKHRoaXMuaW5uZXIpO1xuICAgICAgdGhpcy5vdXRlcj8ucGFyZW50Py5yZW1vdmUodGhpcy5vdXRlcik7XG4gICAgICB0aGlzLmlubmVyID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5vdXRlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxmID0gU3R1ZHlEZXB0aFRlc3RBbmREZXB0aFdyaXRlO1xuICAgIGlmICghaXNTd2FwKSB7XG4gICAgICB0aGlzLm91dGVyID0gc2VsZi5pbml0U3BoZXJlKDE1LCAweGZmMDBmZiwgdGhpcy5zY2VuZSk7XG4gICAgICB0aGlzLmlubmVyID0gc2VsZi5pbml0U3BoZXJlKDEwLCAweGZmZmYwMCwgdGhpcy5zY2VuZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5uZXIgPSBzZWxmLmluaXRTcGhlcmUoMTAsIDB4ZmZmZjAwLCB0aGlzLnNjZW5lKTtcbiAgICAgIHRoaXMub3V0ZXIgPSBzZWxmLmluaXRTcGhlcmUoMTUsIDB4ZmYwMGZmLCB0aGlzLnNjZW5lKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBpbml0U3BoZXJlKHI6IG51bWJlciwgY29sb3I6IG51bWJlciwgc2NlbmU6IFNjZW5lKTogTWVzaCB7XG4gICAgY29uc3QgZ2VvID0gbmV3IFNwaGVyZUdlb21ldHJ5KHIsIDY0LCA2NCk7XG4gICAgY29uc3QgbWF0ID0gbmV3IE1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgIGZvZzogc2NlbmUuZm9nICE9PSB1bmRlZmluZWQsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgIGNvbG9yOiBuZXcgQ29sb3IoY29sb3IpLFxuICAgIH0pO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW8sIG1hdCk7XG4gICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgIHJldHVybiBtZXNoO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaERlcHRoVGVzdCh2YWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBzcGhlcmVzID0gW3RoaXMub3V0ZXIsIHRoaXMuaW5uZXIsIHRoaXMuc2F0ZWxsaXRlXTtcbiAgICBzcGhlcmVzLmZvckVhY2goKHNwaGVyZSkgPT4ge1xuICAgICAgKDxNZXNoUGhvbmdNYXRlcmlhbD5zcGhlcmU/Lm1hdGVyaWFsKS5kZXB0aFRlc3QgPSB2YWw7XG4gICAgfSk7XG4gIH1cbiAgcHVibGljIHN3aXRjaERlcHRoV3JpdGUodmFsOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3Qgc3BoZXJlcyA9IFt0aGlzLm91dGVyLCB0aGlzLmlubmVyLCB0aGlzLnNhdGVsbGl0ZV07XG4gICAgc3BoZXJlcy5mb3JFYWNoKChzcGhlcmUpID0+IHtcbiAgICAgICg8TWVzaFBob25nTWF0ZXJpYWw+c3BoZXJlPy5tYXRlcmlhbCkuZGVwdGhXcml0ZSA9IHZhbDtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzd2l0Y2hTYXRlbGxpdGVTaGlmdChpc01lc2hQb3NpdGlvbjogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLnNhdGVsbGl0ZSkge1xuICAgICAgdGhpcy5zYXRlbGxpdGUucGFyZW50Py5yZW1vdmUodGhpcy5zYXRlbGxpdGUpO1xuICAgICAgdGhpcy5zYXRlbGxpdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZiA9IFN0dWR5RGVwdGhUZXN0QW5kRGVwdGhXcml0ZTtcbiAgICB0aGlzLnNhdGVsbGl0ZSA9IHNlbGYuaW5pdFNwaGVyZSg1LCAweGZmZmZmZiwgdGhpcy5zY2VuZSk7XG5cbiAgICBjb25zdCBzYXRlbGxpdGVYID0gMzA7XG4gICAgaWYgKGlzTWVzaFBvc2l0aW9uKSB7XG4gICAgICB0aGlzLnNhdGVsbGl0ZS5wb3NpdGlvbi54ID0gc2F0ZWxsaXRlWDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zYXRlbGxpdGUuZ2VvbWV0cnkudHJhbnNsYXRlKHNhdGVsbGl0ZVgsIDAsIDApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpbml0R1VJKCk6IHZvaWQge1xuICAgIGNvbnN0IHByb3AgPSB7XG4gICAgICBhbHBoYTogMC41LFxuICAgICAgc2F0ZWxsaXRlU2hpZnRJc01lc2hQb3NpdGlvbjogZmFsc2UsXG4gICAgICBkZXB0aFRlc3Q6IHRydWUsXG4gICAgICBkZXB0aFdyaXRlOiB0cnVlLFxuICAgIH07XG5cbiAgICBjb25zdCBndWkgPSBuZXcgR1VJKCk7XG5cbiAgICAvL+WklumDqOODnOODvOODq+OBjOODoeODg+OCt+ODpeODneOCuOOCt+ODp+ODs+OBi+OAgeOCuOOCquODoeODiOODquOCt+ODleODiOOBi+OBp+e1kOaenOOBjOWkieOCj+OCi+OAglxuICAgIGNvbnN0IG1lc2hGb2xkZXIgPSBndWkuYWRkRm9sZGVyKFwiTWVzaFwiKTtcbiAgICBtZXNoRm9sZGVyLmFkZChwcm9wLCBcImFscGhhXCIsIDAuMCwgMS4wKS5vbkNoYW5nZSgodmFsKSA9PiB7XG4gICAgICBjb25zdCBzcGhlcmVzID0gW3RoaXMub3V0ZXIsIHRoaXMuaW5uZXIsIHRoaXMuc2F0ZWxsaXRlXTtcbiAgICAgIHNwaGVyZXMuZm9yRWFjaCgoc3BoZXJlKSA9PiB7XG4gICAgICAgICg8TWVzaFBob25nTWF0ZXJpYWw+c3BoZXJlPy5tYXRlcmlhbCkub3BhY2l0eSA9IHZhbDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG1lc2hGb2xkZXIub3BlbigpO1xuXG4gICAgY29uc3Qgc2F0ZWxsaXRlRm9sZGVyID0gZ3VpLmFkZEZvbGRlcihcInNhdGVsbGl0ZVwiKTtcbiAgICBzYXRlbGxpdGVGb2xkZXJcbiAgICAgIC5hZGQocHJvcCwgXCJzYXRlbGxpdGVTaGlmdElzTWVzaFBvc2l0aW9uXCIpXG4gICAgICAub25DaGFuZ2UoKHZhbCkgPT4ge1xuICAgICAgICB0aGlzLnN3aXRjaFNhdGVsbGl0ZVNoaWZ0KHZhbCk7XG4gICAgICB9KTtcbiAgICBzYXRlbGxpdGVGb2xkZXIub3BlbigpO1xuXG4gICAgY29uc3QgZGVwdGhGb2xkZXIgPSBndWkuYWRkRm9sZGVyKFwiZGVwdGhcIik7XG4gICAgZGVwdGhGb2xkZXIuYWRkKHByb3AsIFwiZGVwdGhUZXN0XCIpLm9uQ2hhbmdlKCh2YWwpID0+IHtcbiAgICAgIHRoaXMuc3dpdGNoRGVwdGhUZXN0KHZhbCk7XG4gICAgfSk7XG4gICAgZGVwdGhGb2xkZXIuYWRkKHByb3AsIFwiZGVwdGhXcml0ZVwiKS5vbkNoYW5nZSgodmFsKSA9PiB7XG4gICAgICB0aGlzLnN3aXRjaERlcHRoV3JpdGUodmFsKTtcbiAgICB9KTtcbiAgICBkZXB0aEZvbGRlci5vcGVuKCk7XG5cbiAgICBjb25zdCBpbm5lckZvbGRlciA9IGd1aS5hZGRGb2xkZXIoXCJJbm5lciBTcGhlcmVcIik7XG4gICAgY29uc3QgaW5uZXJQYXJhbSA9IHtcbiAgICAgIHg6IDAuMCxcbiAgICB9O1xuICAgIGlubmVyRm9sZGVyLmFkZChpbm5lclBhcmFtLCBcInhcIiwgMCwgMjApLm9uQ2hhbmdlKCh2YWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmlubmVyKSB7XG4gICAgICAgIHRoaXMuaW5uZXIucG9zaXRpb24ueCA9IHZhbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbm5lckZvbGRlci5vcGVuKCk7XG5cbiAgICBjb25zdCByZW5kZXJPcmRlckZvbGRlciA9IGd1aS5hZGRGb2xkZXIoXCJSZW5kZXIgT3JkZXJcIik7XG4gICAgY29uc3Qgb3JkZXJzID0ge1xuICAgICAgaW5uZXI6IDAuMCxcbiAgICAgIG91dGVyOiAwLjAsXG4gICAgICBzYXRlbGxpdGU6IDAuMCxcbiAgICB9O1xuICAgIGNvbnN0IG1pbiA9IC0zO1xuICAgIGNvbnN0IG1heCA9IDM7XG4gICAgY29uc3Qgc3RlcCA9IDE7XG4gICAgcmVuZGVyT3JkZXJGb2xkZXJcbiAgICAgIC5hZGQob3JkZXJzLCBcImlubmVyXCIsIG1pbiwgbWF4KVxuICAgICAgLnN0ZXAoc3RlcClcbiAgICAgIC5vbkNoYW5nZSgodmFsKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlubmVyKSB7XG4gICAgICAgICAgdGhpcy5pbm5lci5yZW5kZXJPcmRlciA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmVuZGVyT3JkZXJGb2xkZXJcbiAgICAgIC5hZGQob3JkZXJzLCBcIm91dGVyXCIsIG1pbiwgbWF4KVxuICAgICAgLnN0ZXAoc3RlcClcbiAgICAgIC5vbkNoYW5nZSgodmFsKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm91dGVyKSB7XG4gICAgICAgICAgdGhpcy5vdXRlci5yZW5kZXJPcmRlciA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmVuZGVyT3JkZXJGb2xkZXJcbiAgICAgIC5hZGQob3JkZXJzLCBcInNhdGVsbGl0ZVwiLCBtaW4sIG1heClcbiAgICAgIC5zdGVwKHN0ZXApXG4gICAgICAub25DaGFuZ2UoKHZhbCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zYXRlbGxpdGUpIHRoaXMuc2F0ZWxsaXRlLnJlbmRlck9yZGVyID0gdmFsO1xuICAgICAgfSk7XG4gICAgcmVuZGVyT3JkZXJGb2xkZXIub3BlbigpO1xuXG4gICAgY29uc3Qgc2NlbmVGb2xkZXIgPSBndWkuYWRkRm9sZGVyKFwiU2NlbmVcIik7XG4gICAgY29uc3Qgc2NlbmVQYXJhbSA9IHtcbiAgICAgIFN3YXBTcGhlcmU6IGZhbHNlLFxuICAgIH07XG4gICAgc2NlbmVGb2xkZXIuYWRkKHNjZW5lUGFyYW0sIFwiU3dhcFNwaGVyZVwiKS5vbkNoYW5nZSgodmFsKSA9PiB7XG4gICAgICB0aGlzLnN3YXBTcGhlcmUodmFsKTtcbiAgICAgIGlmICh0aGlzLmlubmVyKSB0aGlzLmlubmVyLnBvc2l0aW9uLnggPSBpbm5lclBhcmFtLng7XG4gICAgfSk7XG5cbiAgICBzY2VuZUZvbGRlci5vcGVuKCk7XG4gIH1cbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgY29uc3Qgc3R1ZHkgPSBuZXcgU3R1ZHlEZXB0aFRlc3RBbmREZXB0aFdyaXRlKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.loaded=!0,U.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,F,U,B)=>{if(!F){var e=1/0;for(l=0;l<deferred.length;l++){for(var[F,U,B]=deferred[l],s=!0,n=0;n<F.length;n++)(!1&B||e>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](F[n])))?F.splice(n--,1):(s=!1,B<e&&(e=B));if(s){deferred.splice(l--,1);var t=U();void 0!==t&&(Q=t)}}return Q}B=B||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>B;l--)deferred[l]=deferred[l-1];deferred[l]=[F,U,B]},__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=592,(()=>{var Q={592:0};__webpack_require__.O.j=F=>0===Q[F];var F=(F,U)=>{var B,e,[s,n,t]=U,l=0;if(s.some((F=>0!==Q[F]))){for(B in n)__webpack_require__.o(n,B)&&(__webpack_require__.m[B]=n[B]);if(t)var i=t(__webpack_require__)}for(F&&F(U);l<s.length;l++)e=s[l],__webpack_require__.o(Q,e)&&Q[e]&&Q[e][0](),Q[e]=0;return __webpack_require__.O(i)},U=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];U.forEach(F.bind(null,0)),U.push=F.bind(null,U.push.bind(U))})();var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(64)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();