(()=>{"use strict";var __webpack_modules__={1040:(module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   G: () => (/* binding */ Common)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6075);\n/* harmony import */ var three_examples_jsm_renderers_webgpu_WebGPURenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5481);\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8012);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three_examples_jsm_renderers_webgpu_WebGPURenderer_js__WEBPACK_IMPORTED_MODULE_2__]);\nthree_examples_jsm_renderers_webgpu_WebGPURenderer_js__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nclass Common {\n    static initScene() {\n        const scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        return scene;\n    }\n    static initLight(scene) {\n        const ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__.AmbientLight(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    }\n    static initCamera(scene, W, H, near = 1, far = 400) {\n        const camera = new three__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    }\n    static initControl(camera, render) {\n        let domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        const control = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_1__/* .OrbitControls */ .z(camera, domElement);\n        control.update();\n        return control;\n    }\n    static initRenderer(W, H, color = 0x000000, id = "webgl-canvas", antialias = true) {\n        const renderer = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderer({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        renderer.setClearColor(new three__WEBPACK_IMPORTED_MODULE_0__.Color(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three__WEBPACK_IMPORTED_MODULE_0__.REVISION);\n        return renderer;\n    }\n    static initHelper(scene) {\n        const axesHelper = new three__WEBPACK_IMPORTED_MODULE_0__.AxesHelper(30);\n        scene.add(axesHelper);\n    }\n    static render(control, renderer, scene, camera, onBeforeRender) {\n        const rendering = () => {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            if (renderer instanceof three_examples_jsm_renderers_webgpu_WebGPURenderer_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n                renderer.renderAsync(scene, camera);\n            }\n            else {\n                renderer.render(scene, camera);\n            }\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    }\n    static addRendererInfo() {\n        const info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    }\n    static updateRendererInfo(div, info) {\n        div.innerText = JSON.stringify(info);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN2QyxRQUFRLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztZQUN0QyxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDakMsQ0FBQztZQUNELHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ25DLENBQUMsQ0FBQztRQUNGLFNBQVMsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyxlQUFlO1FBQzNCLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0sTUFBTSxDQUFDLGtCQUFrQixDQUFDLEdBQW1CLEVBQUUsSUFBUztRQUM3RCxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvQ29tbW9uLnRzPzczMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQW1iaWVudExpZ2h0LFxuICBBeGVzSGVscGVyLFxuICBDYW1lcmEsXG4gIENvbG9yLFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgU2NlbmUsXG4gIFdlYkdMUmVuZGVyZXIsXG4gIFJFVklTSU9OLFxufSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCBXZWJHUFVSZW5kZXJlciBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL3JlbmRlcmVycy93ZWJncHUvV2ViR1BVUmVuZGVyZXIuanNcIjtcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanNcIjtcblxuZXhwb3J0IGNsYXNzIENvbW1vbiB7XG4gIHB1YmxpYyBzdGF0aWMgaW5pdFNjZW5lKCkge1xuICAgIGNvbnN0IHNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgcmV0dXJuIHNjZW5lO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0TGlnaHQoc2NlbmUpIHtcbiAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxLjApO1xuICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuICAgIHJldHVybiBhbWJpZW50TGlnaHQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRDYW1lcmEoXG4gICAgc2NlbmU6IFNjZW5lLFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXIsXG4gICAgbmVhciA9IDEsXG4gICAgZmFyID0gNDAwXG4gICk6IFBlcnNwZWN0aXZlQ2FtZXJhIHtcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNDUsIFcgLyBILCBuZWFyLCBmYXIpO1xuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgMTAwKTtcbiAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoZmFsc2UpO1xuICAgIHNjZW5lLmFkZChjYW1lcmEpO1xuICAgIHJldHVybiBjYW1lcmE7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRDb250cm9sKFxuICAgIGNhbWVyYTogQ2FtZXJhLFxuICAgIHJlbmRlcjogV2ViR0xSZW5kZXJlciB8IFdlYkdQVVJlbmRlcmVyXG4gICk6IE9yYml0Q29udHJvbHMge1xuICAgIGxldCBkb21FbGVtZW50O1xuICAgIGlmIChyZW5kZXIpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSByZW5kZXIuZG9tRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgY29udHJvbC51cGRhdGUoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdFJlbmRlcmVyKFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXIsXG4gICAgY29sb3I6IG51bWJlciA9IDB4MDAwMDAwLFxuICAgIGlkOiBzdHJpbmcgPSBcIndlYmdsLWNhbnZhc1wiLFxuICAgIGFudGlhbGlhczogYm9vbGVhbiA9IHRydWVcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7XG4gICAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICAgIGFudGlhbGlhczogYW50aWFsaWFzLFxuICAgIH0pO1xuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IENvbG9yKGNvbG9yKSk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZShXLCBIKTtcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICBjb25zb2xlLmxvZyhcInRocmVlLmpzIHJldmlzaW9uOiBcIiwgUkVWSVNJT04pO1xuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEhlbHBlcihzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IEF4ZXNIZWxwZXIoMzApO1xuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcmVuZGVyKFxuICAgIGNvbnRyb2w6IE9yYml0Q29udHJvbHMsXG4gICAgcmVuZGVyZXI6IFdlYkdMUmVuZGVyZXIgfCBXZWJHUFVSZW5kZXJlcixcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgY2FtZXJhOiBDYW1lcmEsXG4gICAgb25CZWZvcmVSZW5kZXI/OiAoKSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHJlbmRlcmluZyA9ICgpID0+IHtcbiAgICAgIGlmIChvbkJlZm9yZVJlbmRlcikge1xuICAgICAgICBvbkJlZm9yZVJlbmRlcigpO1xuICAgICAgfVxuICAgICAgY29udHJvbC51cGRhdGUoKTtcbiAgICAgIGlmIChyZW5kZXJlciBpbnN0YW5jZW9mIFdlYkdQVVJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlckFzeW5jKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgfVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcmluZyk7XG4gICAgfTtcbiAgICByZW5kZXJpbmcoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgYWRkUmVuZGVyZXJJbmZvKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB1cGRhdGVSZW5kZXJlckluZm8oZGl2OiBIVE1MRGl2RWxlbWVudCwgaW5mbzogYW55KTogdm9pZCB7XG4gICAgZGl2LmlubmVyVGV4dCA9IEpTT04uc3RyaW5naWZ5KGluZm8pO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1040\n')},2703:(module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* unused harmony export Study */\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6075);\n/* harmony import */ var _clippingSurface_ClippingSurface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8200);\n/* harmony import */ var _Common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1040);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Common__WEBPACK_IMPORTED_MODULE_1__]);\n_Common__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nclass Study {\n    static initPlanes() {\n        return [\n            new three__WEBPACK_IMPORTED_MODULE_0__.Plane(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(-1, 0, 0), 0),\n            new three__WEBPACK_IMPORTED_MODULE_0__.Plane(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, -1, 0), 0),\n            new three__WEBPACK_IMPORTED_MODULE_0__.Plane(new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, -1), 0),\n        ];\n    }\n    init() {\n        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();\n        this.camera = _Common__WEBPACK_IMPORTED_MODULE_1__/* .Common */ .G.initCamera(this.scene, Study.W, Study.H);\n        this.camera.position.set(2, 2, 2);\n        _Common__WEBPACK_IMPORTED_MODULE_1__/* .Common */ .G.initLight(this.scene);\n        var dirLight = new three__WEBPACK_IMPORTED_MODULE_0__.DirectionalLight(0xffffff, 1);\n        dirLight.position.set(5, 10, 7.5);\n        this.scene.add(dirLight);\n        this.planes = Study.initPlanes();\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.TorusKnotGeometry(0.4, 0.15, 220, 60);\n        const surfaces = [];\n        //トーラスジオメトリをコピーしたグループを作る。\n        this.planes.forEach((plane) => {\n            const group = new _clippingSurface_ClippingSurface__WEBPACK_IMPORTED_MODULE_2__/* .ClippingSurface */ .z(plane, geometry, {\n                allPlanes: this.planes,\n            });\n            this.scene.add(group);\n            surfaces.push(group);\n        });\n        this.renderer = _Common__WEBPACK_IMPORTED_MODULE_1__/* .Common */ .G.initRenderer(Study.W, Study.H, 0x263238);\n        this.renderer.localClippingEnabled = true;\n        const controls = _Common__WEBPACK_IMPORTED_MODULE_1__/* .Common */ .G.initControl(this.camera, this.renderer);\n        _Common__WEBPACK_IMPORTED_MODULE_1__/* .Common */ .G.render(controls, this.renderer, this.scene, this.camera, () => {\n            surfaces.forEach((surface) => {\n                surface.rotation.x += 0.01;\n                surface.updatePlane();\n            });\n        });\n    }\n}\nStudy.W = 640.0;\nStudy.H = 480.0;\nwindow.onload = () => {\n    const study = new Study();\n    study.init();\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7WUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O0FBbERlLE9BQUMsR0FBVyxLQUFLLENBQUM7QUFDbEIsT0FBQyxHQUFXLEtBQUssQ0FBQztBQW9EcEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7SUFDbkIsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUMxQixLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDZixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWxhYi8uL3NyYy9TdHVkeVN0ZW5jaWwudHM/MGEwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEaXJlY3Rpb25hbExpZ2h0LFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgUGxhbmUsXG4gIFNjZW5lLFxuICBUb3J1c0tub3RHZW9tZXRyeSxcbiAgVmVjdG9yMyxcbiAgV2ViR0xSZW5kZXJlcixcbn0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBDbGlwcGluZ1N1cmZhY2UgfSBmcm9tIFwiLi9jbGlwcGluZ1N1cmZhY2UvQ2xpcHBpbmdTdXJmYWNlXCI7XG5pbXBvcnQgeyBDb21tb24gfSBmcm9tIFwiLi9Db21tb25cIjtcblxuZXhwb3J0IGNsYXNzIFN0dWR5IHtcbiAgc3RhdGljIHJlYWRvbmx5IFc6IG51bWJlciA9IDY0MC4wO1xuICBzdGF0aWMgcmVhZG9ubHkgSDogbnVtYmVyID0gNDgwLjA7XG5cbiAgc2NlbmU6IFNjZW5lO1xuICBjYW1lcmE6IFBlcnNwZWN0aXZlQ2FtZXJhO1xuICByZW5kZXJlcjogV2ViR0xSZW5kZXJlcjtcbiAgcGxhbmVzOiBQbGFuZVtdO1xuXG4gIHN0YXRpYyBpbml0UGxhbmVzKCk6IFBsYW5lW10ge1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgUGxhbmUobmV3IFZlY3RvcjMoLTEsIDAsIDApLCAwKSxcbiAgICAgIG5ldyBQbGFuZShuZXcgVmVjdG9yMygwLCAtMSwgMCksIDApLFxuICAgICAgbmV3IFBsYW5lKG5ldyBWZWN0b3IzKDAsIDAsIC0xKSwgMCksXG4gICAgXTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHRoaXMuY2FtZXJhID0gQ29tbW9uLmluaXRDYW1lcmEodGhpcy5zY2VuZSwgU3R1ZHkuVywgU3R1ZHkuSCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDIsIDIsIDIpO1xuXG4gICAgQ29tbW9uLmluaXRMaWdodCh0aGlzLnNjZW5lKTtcbiAgICB2YXIgZGlyTGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMSk7XG4gICAgZGlyTGlnaHQucG9zaXRpb24uc2V0KDUsIDEwLCA3LjUpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGRpckxpZ2h0KTtcblxuICAgIHRoaXMucGxhbmVzID0gU3R1ZHkuaW5pdFBsYW5lcygpO1xuXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVG9ydXNLbm90R2VvbWV0cnkoMC40LCAwLjE1LCAyMjAsIDYwKTtcblxuICAgIGNvbnN0IHN1cmZhY2VzOiBDbGlwcGluZ1N1cmZhY2VbXSA9IFtdO1xuICAgIC8v44OI44O844Op44K544K444Kq44Oh44OI44Oq44KS44Kz44OU44O844GX44Gf44Kw44Or44O844OX44KS5L2c44KL44CCXG4gICAgdGhpcy5wbGFuZXMuZm9yRWFjaCgocGxhbmUpID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwID0gbmV3IENsaXBwaW5nU3VyZmFjZShwbGFuZSwgZ2VvbWV0cnksIHtcbiAgICAgICAgYWxsUGxhbmVzOiB0aGlzLnBsYW5lcyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zY2VuZS5hZGQoZ3JvdXApO1xuICAgICAgc3VyZmFjZXMucHVzaChncm91cCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gQ29tbW9uLmluaXRSZW5kZXJlcihTdHVkeS5XLCBTdHVkeS5ILCAweDI2MzIzOCk7XG4gICAgdGhpcy5yZW5kZXJlci5sb2NhbENsaXBwaW5nRW5hYmxlZCA9IHRydWU7XG5cbiAgICBjb25zdCBjb250cm9scyA9IENvbW1vbi5pbml0Q29udHJvbCh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlcik7XG4gICAgQ29tbW9uLnJlbmRlcihjb250cm9scywgdGhpcy5yZW5kZXJlciwgdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEsICgpID0+IHtcbiAgICAgIHN1cmZhY2VzLmZvckVhY2goKHN1cmZhY2UpID0+IHtcbiAgICAgICAgc3VyZmFjZS5yb3RhdGlvbi54ICs9IDAuMDE7XG4gICAgICAgIHN1cmZhY2UudXBkYXRlUGxhbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIGNvbnN0IHN0dWR5ID0gbmV3IFN0dWR5KCk7XG4gIHN0dWR5LmluaXQoKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2703\n")},8200:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   z: () => (/* binding */ ClippingSurface)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6075);\n\n/**\n * ClippingPlaneにより切断したジオメトリの、切断面を描画するためのクラスです。\n *\n * 注意 : onBeforeRender関数やRenderループ内でstencilGroupの座標、スケール、回転を変更した場合、変更後にupdatePlane関数を明示的に呼び出してください。planeObjectの更新が行われず、表示が崩れます。\n */\nclass ClippingSurface extends three__WEBPACK_IMPORTED_MODULE_0__.Group {\n    /**\n     *コンストラクタ\n     * @param clippingPlane 表示される切断面\n     * @param geometry クリップされるジオメトリ\n     * @param option\n     */\n    constructor(clippingPlane, geometry, option) {\n        super();\n        /**\n         * planeObjectにplaneの座標をコピーする\n         */\n        this.updatePlane = () => {\n            this.plane.coplanarPoint(this.planeObject.position);\n            this.planeObject.lookAt(this.planeObject.position.x - this.plane.normal.x, this.planeObject.position.y - this.plane.normal.y, this.planeObject.position.z - this.plane.normal.z);\n        };\n        option = ClippingSurfaceOption.init(option, clippingPlane);\n        this.plane = clippingPlane;\n        const i = option.allPlanes.indexOf(clippingPlane);\n        this.stencilGroup = ClippingSurfaceUtil.createPlaneStencilGroup(geometry, clippingPlane, i + 1);\n        this.add(this.stencilGroup);\n        this.planeObject = ClippingSurface.createPlane(geometry, clippingPlane, option.allPlanes, i, option.planeMaterial);\n        this.planeObject.onBeforeRender = this.updatePlane;\n        this.add(this.planeObject);\n        this.frontFace = ClippingSurfaceUtil.initFrontFaceMesh(option.allPlanes, geometry, option.frontFaceMaterial);\n        this.stencilGroup.add(this.frontFace);\n        this.frontFace.visible = option.visibleSurface;\n    }\n    /**\n     * 着色用のプレーンジオメトリを生成する。\n     * @param geo\n     * @param clippingPlane\n     * @param otherPlanes\n     * @param index\n     * @param mat\n     */\n    static createPlane(geo, clippingPlane, otherPlanes, index, mat) {\n        geo.computeBoundingSphere();\n        const rad = geo.boundingSphere.radius;\n        const planeGeom = new three__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry(rad * 2, rad * 2);\n        if (mat == null) {\n            mat = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n                color: 0xe91e63,\n                metalness: 0.1,\n                roughness: 0.75,\n            });\n        }\n        ClippingSurfaceUtil.overrideStencilMaterial(mat, clippingPlane, otherPlanes);\n        //プレーンジオメトリオブジェクトを生成。\n        const po = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(planeGeom, mat);\n        po.onAfterRender = function (renderer) {\n            renderer.clearStencil();\n        };\n        po.renderOrder = index + 1.1;\n        return po;\n    }\n    //@ts-ignore : TODO update\n    get rotation() {\n        return this.stencilGroup.rotation;\n    }\n    //@ts-ignore : TODO update\n    set rotation(val) {\n        this.stencilGroup.rotation.copy(val);\n    }\n}\nclass ClippingSurfaceUtil {\n    /**\n     * ステンシル設定がされたFrontFace, BackFaceのグループを生成する。\n     * @param geometry\n     * @param plane\n     * @param renderOrder\n     */\n    static createPlaneStencilGroup(geometry, plane, renderOrder) {\n        const group = new three__WEBPACK_IMPORTED_MODULE_0__.Group();\n        const base = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial();\n        base.depthWrite = false;\n        base.depthTest = false;\n        base.colorWrite = false;\n        base.stencilWrite = true;\n        base.stencilFunc = three__WEBPACK_IMPORTED_MODULE_0__.AlwaysStencilFunc;\n        // back faces\n        const backMesh = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.getStencilMat(base, three__WEBPACK_IMPORTED_MODULE_0__.BackSide, plane, three__WEBPACK_IMPORTED_MODULE_0__.IncrementWrapStencilOp));\n        backMesh.renderOrder = renderOrder;\n        group.add(backMesh);\n        // front faces\n        const frontMesh = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.getStencilMat(base, three__WEBPACK_IMPORTED_MODULE_0__.FrontSide, plane, three__WEBPACK_IMPORTED_MODULE_0__.DecrementWrapStencilOp));\n        frontMesh.renderOrder = renderOrder;\n        group.add(frontMesh);\n        return group;\n    }\n    /**\n     * マテリアルにstencilFail時の処理を一括で指定する。\n     * @param mat\n     * @param val\n     */\n    static setStencilOp(mat, val) {\n        mat.stencilFail = val;\n        mat.stencilZFail = val;\n        mat.stencilZPass = val;\n    }\n    /**\n     * ステンシルグループ用のマテリアルを生成する。\n     * @param base\n     * @param side\n     * @param plane\n     * @param stencilOp\n     */\n    static getStencilMat(base, side, plane, stencilOp) {\n        const mat = base.clone();\n        mat.side = side;\n        mat.clippingPlanes = [plane];\n        ClippingSurfaceUtil.setStencilOp(mat, stencilOp);\n        return mat;\n    }\n    /**\n     * planeObject用マテリアルに必須となる設定を、既存のマテリアルに対して上書きする。\n     * @param mat\n     * @param clippingPlane\n     * @param otherPlanes\n     */\n    static overrideStencilMaterial(mat, clippingPlane, otherPlanes) {\n        mat.clippingPlanes = otherPlanes.filter((p) => p !== clippingPlane);\n        mat.stencilWrite = true;\n        mat.stencilRef = 0;\n        mat.stencilFunc = three__WEBPACK_IMPORTED_MODULE_0__.NotEqualStencilFunc;\n        ClippingSurfaceUtil.setStencilOp(mat, three__WEBPACK_IMPORTED_MODULE_0__.ReplaceStencilOp);\n    }\n    /**\n     * 切り取られたジオメトリの表面を生成する\n     * @param planes\n     * @param geometry\n     * @param mat\n     */\n    static initFrontFaceMesh(planes, geometry, mat) {\n        if (mat == null) {\n            mat = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n                color: 0xffc107,\n                metalness: 0.1,\n                roughness: 0.75,\n            });\n        }\n        this.overrideFrontFaceMaterial(mat, planes);\n        const clippedColorFront = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, mat);\n        clippedColorFront.renderOrder = planes.length * 2;\n        return clippedColorFront;\n    }\n    static overrideFrontFaceMaterial(mat, planes) {\n        mat.clippingPlanes = planes;\n    }\n}\nclass ClippingSurfaceOption {\n    static init(option, plane) {\n        if (option == null)\n            option = {};\n        if (option.allPlanes == null || option.allPlanes.length === 0) {\n            option.allPlanes = [plane];\n        }\n        if (option.visibleSurface == null) {\n            option.visibleSurface = false;\n        }\n        return option;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsQ0FBQztRQUNoQyxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzlELE1BQU0sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QixDQUFDO1FBQ0QsSUFBSSxNQUFNLENBQUMsY0FBYyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLENBQUM7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWxhYi8uL3NyYy9jbGlwcGluZ1N1cmZhY2UvQ2xpcHBpbmdTdXJmYWNlLnRzP2I5MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWx3YXlzU3RlbmNpbEZ1bmMsXG4gIEJhY2tTaWRlLFxuICBCdWZmZXJHZW9tZXRyeSxcbiAgRGVjcmVtZW50V3JhcFN0ZW5jaWxPcCxcbiAgRXVsZXIsXG4gIEZyb250U2lkZSxcbiAgR3JvdXAsXG4gIEluY3JlbWVudFdyYXBTdGVuY2lsT3AsXG4gIE1hdGVyaWFsLFxuICBNZXNoLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG4gIE5vdEVxdWFsU3RlbmNpbEZ1bmMsXG4gIFBsYW5lLFxuICBQbGFuZUdlb21ldHJ5LFxuICBSZXBsYWNlU3RlbmNpbE9wLFxuICBTaWRlLFxuICBTdGVuY2lsT3AsXG59IGZyb20gXCJ0aHJlZVwiO1xuXG4vKipcbiAqIENsaXBwaW5nUGxhbmXjgavjgojjgorliIfmlq3jgZfjgZ/jgrjjgqrjg6Hjg4jjg6rjga7jgIHliIfmlq3pnaLjgpLmj4/nlLvjgZnjgovjgZ/jgoHjga7jgq/jg6njgrnjgafjgZnjgIJcbiAqXG4gKiDms6jmhI8gOiBvbkJlZm9yZVJlbmRlcumWouaVsOOChFJlbmRlcuODq+ODvOODl+WGheOBp3N0ZW5jaWxHcm91cOOBruW6p+aomeOAgeOCueOCseODvOODq+OAgeWbnui7ouOCkuWkieabtOOBl+OBn+WgtOWQiOOAgeWkieabtOW+jOOBq3VwZGF0ZVBsYW5l6Zai5pWw44KS5piO56S655qE44Gr5ZG844Gz5Ye644GX44Gm44GP44Gg44GV44GE44CCcGxhbmVPYmplY3Tjga7mm7TmlrDjgYzooYzjgo/jgozjgZrjgIHooajnpLrjgYzltKnjgozjgb7jgZnjgIJcbiAqL1xuZXhwb3J0IGNsYXNzIENsaXBwaW5nU3VyZmFjZSBleHRlbmRzIEdyb3VwIHtcbiAgcHVibGljIHBsYW5lT2JqZWN0OiBNZXNoO1xuICBwcm90ZWN0ZWQgcGxhbmU6IFBsYW5lO1xuICBwcm90ZWN0ZWQgc3RlbmNpbEdyb3VwOiBHcm91cDtcbiAgcHVibGljIGZyb250RmFjZTogTWVzaDtcblxuICAvKipcbiAgICrjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICogQHBhcmFtIGNsaXBwaW5nUGxhbmUg6KGo56S644GV44KM44KL5YiH5pat6Z2iXG4gICAqIEBwYXJhbSBnZW9tZXRyeSDjgq/jg6rjg4Pjg5fjgZXjgozjgovjgrjjgqrjg6Hjg4jjg6pcbiAgICogQHBhcmFtIG9wdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgY2xpcHBpbmdQbGFuZTogUGxhbmUsXG4gICAgZ2VvbWV0cnk6IEJ1ZmZlckdlb21ldHJ5LFxuICAgIG9wdGlvbj86IENsaXBwaW5nU3VyZmFjZU9wdGlvblxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9uID0gQ2xpcHBpbmdTdXJmYWNlT3B0aW9uLmluaXQob3B0aW9uLCBjbGlwcGluZ1BsYW5lKTtcblxuICAgIHRoaXMucGxhbmUgPSBjbGlwcGluZ1BsYW5lO1xuICAgIGNvbnN0IGkgPSBvcHRpb24uYWxsUGxhbmVzLmluZGV4T2YoY2xpcHBpbmdQbGFuZSk7XG5cbiAgICB0aGlzLnN0ZW5jaWxHcm91cCA9IENsaXBwaW5nU3VyZmFjZVV0aWwuY3JlYXRlUGxhbmVTdGVuY2lsR3JvdXAoXG4gICAgICBnZW9tZXRyeSxcbiAgICAgIGNsaXBwaW5nUGxhbmUsXG4gICAgICBpICsgMVxuICAgICk7XG4gICAgdGhpcy5hZGQodGhpcy5zdGVuY2lsR3JvdXApO1xuXG4gICAgdGhpcy5wbGFuZU9iamVjdCA9IENsaXBwaW5nU3VyZmFjZS5jcmVhdGVQbGFuZShcbiAgICAgIGdlb21ldHJ5LFxuICAgICAgY2xpcHBpbmdQbGFuZSxcbiAgICAgIG9wdGlvbi5hbGxQbGFuZXMsXG4gICAgICBpLFxuICAgICAgb3B0aW9uLnBsYW5lTWF0ZXJpYWxcbiAgICApO1xuICAgIHRoaXMucGxhbmVPYmplY3Qub25CZWZvcmVSZW5kZXIgPSB0aGlzLnVwZGF0ZVBsYW5lO1xuICAgIHRoaXMuYWRkKHRoaXMucGxhbmVPYmplY3QpO1xuXG4gICAgdGhpcy5mcm9udEZhY2UgPSBDbGlwcGluZ1N1cmZhY2VVdGlsLmluaXRGcm9udEZhY2VNZXNoKFxuICAgICAgb3B0aW9uLmFsbFBsYW5lcyxcbiAgICAgIGdlb21ldHJ5LFxuICAgICAgb3B0aW9uLmZyb250RmFjZU1hdGVyaWFsXG4gICAgKTtcbiAgICB0aGlzLnN0ZW5jaWxHcm91cC5hZGQodGhpcy5mcm9udEZhY2UpO1xuICAgIHRoaXMuZnJvbnRGYWNlLnZpc2libGUgPSBvcHRpb24udmlzaWJsZVN1cmZhY2U7XG4gIH1cblxuICAvKipcbiAgICog552A6Imy55So44Gu44OX44Os44O844Oz44K444Kq44Oh44OI44Oq44KS55Sf5oiQ44GZ44KL44CCXG4gICAqIEBwYXJhbSBnZW9cbiAgICogQHBhcmFtIGNsaXBwaW5nUGxhbmVcbiAgICogQHBhcmFtIG90aGVyUGxhbmVzXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcGFyYW0gbWF0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNyZWF0ZVBsYW5lKFxuICAgIGdlbzogQnVmZmVyR2VvbWV0cnksXG4gICAgY2xpcHBpbmdQbGFuZTogUGxhbmUsXG4gICAgb3RoZXJQbGFuZXM6IFBsYW5lW10sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBtYXQ/OiBNYXRlcmlhbFxuICApOiBNZXNoIHtcbiAgICBnZW8uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7XG4gICAgY29uc3QgcmFkID0gZ2VvLmJvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICBjb25zdCBwbGFuZUdlb20gPSBuZXcgUGxhbmVHZW9tZXRyeShyYWQgKiAyLCByYWQgKiAyKTtcblxuICAgIGlmIChtYXQgPT0gbnVsbCkge1xuICAgICAgbWF0ID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgY29sb3I6IDB4ZTkxZTYzLFxuICAgICAgICBtZXRhbG5lc3M6IDAuMSxcbiAgICAgICAgcm91Z2huZXNzOiAwLjc1LFxuICAgICAgfSk7XG4gICAgfVxuICAgIENsaXBwaW5nU3VyZmFjZVV0aWwub3ZlcnJpZGVTdGVuY2lsTWF0ZXJpYWwoXG4gICAgICBtYXQsXG4gICAgICBjbGlwcGluZ1BsYW5lLFxuICAgICAgb3RoZXJQbGFuZXNcbiAgICApO1xuXG4gICAgLy/jg5fjg6zjg7zjg7Pjgrjjgqrjg6Hjg4jjg6rjgqrjg5bjgrjjgqfjgq/jg4jjgpLnlJ/miJDjgIJcbiAgICBjb25zdCBwbyA9IG5ldyBNZXNoKHBsYW5lR2VvbSwgbWF0KTtcbiAgICBwby5vbkFmdGVyUmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICByZW5kZXJlci5jbGVhclN0ZW5jaWwoKTtcbiAgICB9O1xuICAgIHBvLnJlbmRlck9yZGVyID0gaW5kZXggKyAxLjE7XG5cbiAgICByZXR1cm4gcG87XG4gIH1cblxuICAvKipcbiAgICogcGxhbmVPYmplY3TjgatwbGFuZeOBruW6p+aomeOCkuOCs+ODlOODvOOBmeOCi1xuICAgKi9cbiAgdXBkYXRlUGxhbmUgPSAoKSA9PiB7XG4gICAgdGhpcy5wbGFuZS5jb3BsYW5hclBvaW50KHRoaXMucGxhbmVPYmplY3QucG9zaXRpb24pO1xuICAgIHRoaXMucGxhbmVPYmplY3QubG9va0F0KFxuICAgICAgdGhpcy5wbGFuZU9iamVjdC5wb3NpdGlvbi54IC0gdGhpcy5wbGFuZS5ub3JtYWwueCxcbiAgICAgIHRoaXMucGxhbmVPYmplY3QucG9zaXRpb24ueSAtIHRoaXMucGxhbmUubm9ybWFsLnksXG4gICAgICB0aGlzLnBsYW5lT2JqZWN0LnBvc2l0aW9uLnogLSB0aGlzLnBsYW5lLm5vcm1hbC56XG4gICAgKTtcbiAgfTtcblxuICAvL0B0cy1pZ25vcmUgOiBUT0RPIHVwZGF0ZVxuICBnZXQgcm90YXRpb24oKTogRXVsZXIge1xuICAgIHJldHVybiB0aGlzLnN0ZW5jaWxHcm91cC5yb3RhdGlvbjtcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZSA6IFRPRE8gdXBkYXRlXG4gIHNldCByb3RhdGlvbih2YWw6IEV1bGVyKSB7XG4gICAgdGhpcy5zdGVuY2lsR3JvdXAucm90YXRpb24uY29weSh2YWwpO1xuICB9XG59XG5cbmNsYXNzIENsaXBwaW5nU3VyZmFjZVV0aWwge1xuICAvKipcbiAgICog44K544OG44Oz44K344Or6Kit5a6a44GM44GV44KM44GfRnJvbnRGYWNlLCBCYWNrRmFjZeOBruOCsOODq+ODvOODl+OCkueUn+aIkOOBmeOCi+OAglxuICAgKiBAcGFyYW0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHBsYW5lXG4gICAqIEBwYXJhbSByZW5kZXJPcmRlclxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjcmVhdGVQbGFuZVN0ZW5jaWxHcm91cChcbiAgICBnZW9tZXRyeTogQnVmZmVyR2VvbWV0cnksXG4gICAgcGxhbmU6IFBsYW5lLFxuICAgIHJlbmRlck9yZGVyOiBudW1iZXJcbiAgKTogR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IEdyb3VwKCk7XG5cbiAgICBjb25zdCBiYXNlID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XG4gICAgYmFzZS5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgYmFzZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBiYXNlLmNvbG9yV3JpdGUgPSBmYWxzZTtcbiAgICBiYXNlLnN0ZW5jaWxXcml0ZSA9IHRydWU7XG4gICAgYmFzZS5zdGVuY2lsRnVuYyA9IEFsd2F5c1N0ZW5jaWxGdW5jO1xuXG4gICAgLy8gYmFjayBmYWNlc1xuICAgIGNvbnN0IGJhY2tNZXNoID0gbmV3IE1lc2goXG4gICAgICBnZW9tZXRyeSxcbiAgICAgIHRoaXMuZ2V0U3RlbmNpbE1hdChiYXNlLCBCYWNrU2lkZSwgcGxhbmUsIEluY3JlbWVudFdyYXBTdGVuY2lsT3ApXG4gICAgKTtcbiAgICBiYWNrTWVzaC5yZW5kZXJPcmRlciA9IHJlbmRlck9yZGVyO1xuICAgIGdyb3VwLmFkZChiYWNrTWVzaCk7XG5cbiAgICAvLyBmcm9udCBmYWNlc1xuICAgIGNvbnN0IGZyb250TWVzaCA9IG5ldyBNZXNoKFxuICAgICAgZ2VvbWV0cnksXG4gICAgICB0aGlzLmdldFN0ZW5jaWxNYXQoYmFzZSwgRnJvbnRTaWRlLCBwbGFuZSwgRGVjcmVtZW50V3JhcFN0ZW5jaWxPcClcbiAgICApO1xuICAgIGZyb250TWVzaC5yZW5kZXJPcmRlciA9IHJlbmRlck9yZGVyO1xuICAgIGdyb3VwLmFkZChmcm9udE1lc2gpO1xuXG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgLyoqXG4gICAqIOODnuODhuODquOCouODq+OBq3N0ZW5jaWxGYWls5pmC44Gu5Yem55CG44KS5LiA5ous44Gn5oyH5a6a44GZ44KL44CCXG4gICAqIEBwYXJhbSBtYXRcbiAgICogQHBhcmFtIHZhbFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBzZXRTdGVuY2lsT3AobWF0OiBNYXRlcmlhbCwgdmFsOiBTdGVuY2lsT3ApOiB2b2lkIHtcbiAgICBtYXQuc3RlbmNpbEZhaWwgPSB2YWw7XG4gICAgbWF0LnN0ZW5jaWxaRmFpbCA9IHZhbDtcbiAgICBtYXQuc3RlbmNpbFpQYXNzID0gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIOOCueODhuODs+OCt+ODq+OCsOODq+ODvOODl+eUqOOBruODnuODhuODquOCouODq+OCkueUn+aIkOOBmeOCi+OAglxuICAgKiBAcGFyYW0gYmFzZVxuICAgKiBAcGFyYW0gc2lkZVxuICAgKiBAcGFyYW0gcGxhbmVcbiAgICogQHBhcmFtIHN0ZW5jaWxPcFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRTdGVuY2lsTWF0KFxuICAgIGJhc2U6IE1lc2hCYXNpY01hdGVyaWFsLFxuICAgIHNpZGU6IFNpZGUsXG4gICAgcGxhbmU6IFBsYW5lLFxuICAgIHN0ZW5jaWxPcDogU3RlbmNpbE9wXG4gICk6IE1lc2hCYXNpY01hdGVyaWFsIHtcbiAgICBjb25zdCBtYXQgPSBiYXNlLmNsb25lKCkgYXMgTWVzaEJhc2ljTWF0ZXJpYWw7XG4gICAgbWF0LnNpZGUgPSBzaWRlO1xuICAgIG1hdC5jbGlwcGluZ1BsYW5lcyA9IFtwbGFuZV07XG4gICAgQ2xpcHBpbmdTdXJmYWNlVXRpbC5zZXRTdGVuY2lsT3AobWF0LCBzdGVuY2lsT3ApO1xuICAgIHJldHVybiBtYXQ7XG4gIH1cblxuICAvKipcbiAgICogcGxhbmVPYmplY3TnlKjjg57jg4bjg6rjgqLjg6vjgavlv4XpoIjjgajjgarjgovoqK3lrprjgpLjgIHml6LlrZjjga7jg57jg4bjg6rjgqLjg6vjgavlr77jgZfjgabkuIrmm7jjgY3jgZnjgovjgIJcbiAgICogQHBhcmFtIG1hdFxuICAgKiBAcGFyYW0gY2xpcHBpbmdQbGFuZVxuICAgKiBAcGFyYW0gb3RoZXJQbGFuZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGVTdGVuY2lsTWF0ZXJpYWwoXG4gICAgbWF0OiBNYXRlcmlhbCxcbiAgICBjbGlwcGluZ1BsYW5lOiBQbGFuZSxcbiAgICBvdGhlclBsYW5lczogUGxhbmVbXVxuICApOiB2b2lkIHtcbiAgICBtYXQuY2xpcHBpbmdQbGFuZXMgPSBvdGhlclBsYW5lcy5maWx0ZXIoKHApID0+IHAgIT09IGNsaXBwaW5nUGxhbmUpO1xuICAgIG1hdC5zdGVuY2lsV3JpdGUgPSB0cnVlO1xuICAgIG1hdC5zdGVuY2lsUmVmID0gMDtcbiAgICBtYXQuc3RlbmNpbEZ1bmMgPSBOb3RFcXVhbFN0ZW5jaWxGdW5jO1xuXG4gICAgQ2xpcHBpbmdTdXJmYWNlVXRpbC5zZXRTdGVuY2lsT3AobWF0LCBSZXBsYWNlU3RlbmNpbE9wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliIfjgorlj5bjgonjgozjgZ/jgrjjgqrjg6Hjg4jjg6rjga7ooajpnaLjgpLnlJ/miJDjgZnjgotcbiAgICogQHBhcmFtIHBsYW5lc1xuICAgKiBAcGFyYW0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIG1hdFxuICAgKi9cbiAgc3RhdGljIGluaXRGcm9udEZhY2VNZXNoKFxuICAgIHBsYW5lczogUGxhbmVbXSxcbiAgICBnZW9tZXRyeTogQnVmZmVyR2VvbWV0cnksXG4gICAgbWF0PzogTWF0ZXJpYWxcbiAgKTogTWVzaCB7XG4gICAgaWYgKG1hdCA9PSBudWxsKSB7XG4gICAgICBtYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogMHhmZmMxMDcsXG4gICAgICAgIG1ldGFsbmVzczogMC4xLFxuICAgICAgICByb3VnaG5lc3M6IDAuNzUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5vdmVycmlkZUZyb250RmFjZU1hdGVyaWFsKG1hdCwgcGxhbmVzKTtcblxuICAgIGNvbnN0IGNsaXBwZWRDb2xvckZyb250ID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdCk7XG4gICAgY2xpcHBlZENvbG9yRnJvbnQucmVuZGVyT3JkZXIgPSBwbGFuZXMubGVuZ3RoICogMjtcbiAgICByZXR1cm4gY2xpcHBlZENvbG9yRnJvbnQ7XG4gIH1cblxuICBzdGF0aWMgb3ZlcnJpZGVGcm9udEZhY2VNYXRlcmlhbChtYXQ6IE1hdGVyaWFsLCBwbGFuZXM6IFBsYW5lW10pOiB2b2lkIHtcbiAgICBtYXQuY2xpcHBpbmdQbGFuZXMgPSBwbGFuZXM7XG4gIH1cbn1cblxuY2xhc3MgQ2xpcHBpbmdTdXJmYWNlT3B0aW9uIHtcbiAgcGxhbmVNYXRlcmlhbD86IE1hdGVyaWFsO1xuICBmcm9udEZhY2VNYXRlcmlhbD86IE1hdGVyaWFsO1xuICBhbGxQbGFuZXM/OiBQbGFuZVtdO1xuICB2aXNpYmxlU3VyZmFjZT86IGJvb2xlYW47XG5cbiAgc3RhdGljIGluaXQoXG4gICAgb3B0aW9uOiBDbGlwcGluZ1N1cmZhY2VPcHRpb24sXG4gICAgcGxhbmU6IFBsYW5lXG4gICk6IENsaXBwaW5nU3VyZmFjZU9wdGlvbiB7XG4gICAgaWYgKG9wdGlvbiA9PSBudWxsKSBvcHRpb24gPSB7fTtcbiAgICBpZiAob3B0aW9uLmFsbFBsYW5lcyA9PSBudWxsIHx8IG9wdGlvbi5hbGxQbGFuZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBvcHRpb24uYWxsUGxhbmVzID0gW3BsYW5lXTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbi52aXNpYmxlU3VyZmFjZSA9PSBudWxsKSB7XG4gICAgICBvcHRpb24udmlzaWJsZVN1cmZhY2UgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8200\n")}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue,deferred;function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.loaded=!0,U.exports}__webpack_require__.m=__webpack_modules__,webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=Q=>{Q&&Q.d<1&&(Q.d=1,Q.forEach((Q=>Q.r--)),Q.forEach((Q=>Q.r--?Q.r++:Q())))},__webpack_require__.a=(Q,F,U)=>{var B;U&&((B=[]).d=-1);var e,s,n,c=new Set,l=Q.exports,g=new Promise(((Q,F)=>{n=F,s=Q}));g[webpackExports]=l,g[webpackQueues]=Q=>(B&&Q(B),c.forEach(Q),g.catch((Q=>{}))),Q.exports=g,F((Q=>{var F;e=(Q=>Q.map((Q=>{if(null!==Q&&"object"==typeof Q){if(Q[webpackQueues])return Q;if(Q.then){var F=[];F.d=0,Q.then((Q=>{U[webpackExports]=Q,resolveQueue(F)}),(Q=>{U[webpackError]=Q,resolveQueue(F)}));var U={};return U[webpackQueues]=Q=>Q(F),U}}var B={};return B[webpackQueues]=Q=>{},B[webpackExports]=Q,B})))(Q);var U=()=>e.map((Q=>{if(Q[webpackError])throw Q[webpackError];return Q[webpackExports]})),s=new Promise((Q=>{(F=()=>Q(U)).r=0;var s=Q=>Q!==B&&!c.has(Q)&&(c.add(Q),Q&&!Q.d&&(F.r++,Q.push(F)));e.map((Q=>Q[webpackQueues](s)))}));return F.r?s:U()}),(Q=>(Q?n(g[webpackError]=Q):s(l),resolveQueue(B)))),B&&B.d<0&&(B.d=0)},deferred=[],__webpack_require__.O=(Q,F,U,B)=>{if(!F){var e=1/0;for(l=0;l<deferred.length;l++){for(var[F,U,B]=deferred[l],s=!0,n=0;n<F.length;n++)(!1&B||e>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](F[n])))?F.splice(n--,1):(s=!1,B<e&&(e=B));if(s){deferred.splice(l--,1);var c=U();void 0!==c&&(Q=c)}}return Q}B=B||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>B;l--)deferred[l]=deferred[l-1];deferred[l]=[F,U,B]},__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=273,(()=>{var Q={273:0};__webpack_require__.O.j=F=>0===Q[F];var F=(F,U)=>{var B,e,[s,n,c]=U,l=0;if(s.some((F=>0!==Q[F]))){for(B in n)__webpack_require__.o(n,B)&&(__webpack_require__.m[B]=n[B]);if(c)var g=c(__webpack_require__)}for(F&&F(U);l<s.length;l++)e=s[l],__webpack_require__.o(Q,e)&&Q[e]&&Q[e][0](),Q[e]=0;return __webpack_require__.O(g)},U=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];U.forEach(F.bind(null,0)),U.push=F.bind(null,U.push.bind(U))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(2703)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();