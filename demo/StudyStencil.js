(()=>{"use strict";var e,t={7370:(e,t,n)=>{var i=n(6075);class r extends i.Group{constructor(e,t,n){super(),this.updatePlane=()=>{this.plane.coplanarPoint(this.planeObject.position),this.planeObject.lookAt(this.planeObject.position.x-this.plane.normal.x,this.planeObject.position.y-this.plane.normal.y,this.planeObject.position.z-this.plane.normal.z)},n=class{static init(e,t){return null==e&&(e={}),null!=e.allPlanes&&0!==e.allPlanes.length||(e.allPlanes=[t]),null==e.visibleSurface&&(e.visibleSurface=!1),e}}.init(n,e),this.plane=e;const i=n.allPlanes.indexOf(e);this.stencilGroup=a.createPlaneStencilGroup(t,e,i+1),this.add(this.stencilGroup),this.planeObject=r.createPlane(t,e,n.allPlanes,i,n.planeMaterial),this.planeObject.onBeforeRender=this.updatePlane,this.add(this.planeObject),this.frontFace=a.initFrontFaceMesh(n.allPlanes,t,n.frontFaceMaterial),this.stencilGroup.add(this.frontFace),this.frontFace.visible=n.visibleSurface}static createPlane(e,t,n,r,s){e.computeBoundingSphere();const l=e.boundingSphere.radius,o=new i.PlaneBufferGeometry(2*l,2*l);null==s&&(s=new i.MeshStandardMaterial({color:15277667,metalness:.1,roughness:.75})),a.overrideStencilMaterial(s,t,n);const c=new i.Mesh(o,s);return c.onAfterRender=function(e){e.clearStencil()},c.renderOrder=r+1.1,c}get rotation(){return this.stencilGroup.rotation}set rotation(e){this.stencilGroup.rotation.copy(e)}}class a{static createPlaneStencilGroup(e,t,n){const r=new i.Group,a=new i.MeshBasicMaterial;a.depthWrite=!1,a.depthTest=!1,a.colorWrite=!1,a.stencilWrite=!0,a.stencilFunc=i.AlwaysStencilFunc;const s=new i.Mesh(e,this.getStencilMat(a,i.BackSide,t,i.IncrementWrapStencilOp));s.renderOrder=n,r.add(s);const l=new i.Mesh(e,this.getStencilMat(a,i.FrontSide,t,i.DecrementWrapStencilOp));return l.renderOrder=n,r.add(l),r}static setStencilOp(e,t){e.stencilFail=t,e.stencilZFail=t,e.stencilZPass=t}static getStencilMat(e,t,n,i){const r=e.clone();return r.side=t,r.clippingPlanes=[n],a.setStencilOp(r,i),r}static overrideStencilMaterial(e,t,n){e.clippingPlanes=n.filter((e=>e!==t)),e.stencilWrite=!0,e.stencilRef=0,e.stencilFunc=i.NotEqualStencilFunc,a.setStencilOp(e,i.ReplaceStencilOp)}static initFrontFaceMesh(e,t,n){null==n&&(n=new i.MeshStandardMaterial({color:16761095,metalness:.1,roughness:.75})),this.overrideFrontFaceMaterial(n,e);const r=new i.Mesh(t,n);return r.renderOrder=2*e.length,r}static overrideFrontFaceMaterial(e,t){e.clippingPlanes=t}}var s=n(8012);class l{static initScene(){return new i.Scene}static initLight(e){const t=new i.AmbientLight(16777215,1);return e.add(t),t}static initCamera(e,t,n,r=1,a=400){const s=new i.PerspectiveCamera(45,t/n,r,a);return s.position.set(0,0,100),s.updateMatrixWorld(!1),e.add(s),s}static initControl(e,t){let n;t&&(n=t.domElement);const i=new s.z(e,n);return i.update(),i}static initRenderer(e,t,n=0,r="webgl-canvas",a=!0){const s=new i.WebGLRenderer({canvas:document.getElementById(r),antialias:a});return s.setClearColor(new i.Color(n)),s.setSize(e,t),s.setPixelRatio(window.devicePixelRatio),s}static initHelper(e){const t=new i.AxesHelper(30);e.add(t)}static render(e,t,n,i,r){const a=()=>{r&&r(),e.update(),t.render(n,i),requestAnimationFrame(a)};a()}static addRendererInfo(){const e=document.createElement("div");return document.body.appendChild(e),e}static updateRendererInfo(e,t){e.innerText=JSON.stringify(t)}}class o{static initPlanes(){return[new i.Plane(new i.Vector3(-1,0,0),0),new i.Plane(new i.Vector3(0,-1,0),0),new i.Plane(new i.Vector3(0,0,-1),0)]}init(){this.scene=new i.Scene,this.camera=l.initCamera(this.scene,o.W,o.H),this.camera.position.set(2,2,2),l.initLight(this.scene);var e=new i.DirectionalLight(16777215,1);e.position.set(5,10,7.5),this.scene.add(e),this.planes=o.initPlanes();const t=new i.TorusKnotBufferGeometry(.4,.15,220,60),n=[];this.planes.forEach((e=>{const i=new r(e,t,{allPlanes:this.planes});this.scene.add(i),n.push(i)})),this.renderer=l.initRenderer(o.W,o.H,2503224),this.renderer.localClippingEnabled=!0;const a=l.initControl(this.camera,this.renderer);l.render(a,this.renderer,this.scene,this.camera,(()=>{n.forEach((e=>{e.rotation.x+=.01,e.updatePlane()}))}))}}o.W=640,o.H=480,window.onload=()=>{(new o).init()}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,e=[],i.O=(t,n,r,a)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,r,a]=e[d],l=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(i.O).every((e=>i.O[e](n[o])))?n.splice(o--,1):(l=!1,a<s&&(s=a));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=273,(()=>{var e={273:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[s,l,o]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(o)var d=o(i)}for(t&&t(n);c<s.length;c++)a=s[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(d)},n=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=i.O(void 0,[736],(()=>i(7370)));r=i.O(r)})();