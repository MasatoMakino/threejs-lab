(()=>{"use strict";var e,t={4708:(e,t,i)=>{var a=i(8694),n=i(6075),r=i(9440),o=i(8012);class s{static initScene(){return new n.Scene}static initLight(e){const t=new n.AmbientLight(16777215,1);return e.add(t),t}static initCamera(e,t,i,a=1,r=400){const o=new n.PerspectiveCamera(45,t/i,a,r);return o.position.set(0,0,100),o.updateMatrixWorld(!1),e.add(o),o}static initControl(e,t){let i;t&&(i=t.domElement);const a=new o.z(e,i);return a.update(),a}static initRenderer(e,t,i=0,a="webgl-canvas",r=!0){const o=new n.WebGLRenderer({canvas:document.getElementById(a),antialias:r});return o.setClearColor(new n.Color(i)),o.setSize(e,t),o.setPixelRatio(window.devicePixelRatio),o}static initHelper(e){const t=new n.AxesHelper(30);e.add(t)}static render(e,t,i,a,n){const r=()=>{n&&n(),e.update(),t.render(i,a),requestAnimationFrame(r)};r()}static addRendererInfo(){const e=document.createElement("div");return document.body.appendChild(e),e}static updateRendererInfo(e,t){e.innerText=JSON.stringify(t)}}class d extends r.Q5{constructor(e){super(),this.initEmitter(e)}get colorBehaviour(){return this._color}get scaleBehaviour(){return this._scale}get alphaBehaviour(){return this._alpha}get lifeInitializer(){return this._life}get radiusInitializer(){return this._radius}get rangeInitializer(){return this._range}initEmitter(e){this._range=new r.aZ(16,new r.EW(0,1,0),20),this._radius=new r.wU(8,10),this._life=new r.Vk(4),this._alpha=new r.xV(1,1),this._scale=new r.Ci(1.2,.6),this._color=new r.Il(new n.Color(10044450),new n.Color(1114112)),this.initOnLoadedTexture(e)}initBody(e){const t=new n.TextureLoader,i=e.map((e=>new n.Sprite(new n.SpriteMaterial({map:t.load(e),blending:n.AdditiveBlending}))));this._body=new r.uT(i)}initOnLoadedTexture(e){this.initBody(e.maps),this.setRate(new r.j8(new r.Dr(2,7),.06)).setInitializers([new r.Ly(new r.i$(0,0,0,6)),this._radius,this._life,this._range,this._body]).setBehaviours([this._alpha,this._scale,this._color]).emit(),this.position.y=-8}}class l{static initEmitterPosition(e,t){const i={x:t[0].position.x,y:t[0].position.y,z:t[0].position.z},a=e=>{t.forEach((e=>{e.position.x=i.x,e.position.y=i.y,e.position.z=i.z}))},n=e.addFolder("Position");n.add(i,"x",-30,30).onChange(a),n.add(i,"y",-30,30).onChange(a),n.add(i,"z",-30,30).onChange(a),n.open()}static initEmitterRate(e,t){const i={numPanA:t[0].rate.numPan.a,numPanB:t[0].rate.numPan.b,timePan:t[0].rate.timePan.a},a=e=>{t.forEach((e=>{e.rate.numPan.a=i.numPanA,e.rate.numPan.b=i.numPanB,e.rate.timePan.a=i.timePan}))},n=e.addFolder("Rate");n.add(i,"numPanA",0,30).step(1).onChange(a),n.add(i,"numPanB",0,30).step(1).onChange(a),n.add(i,"timePan",.01,.5).step(.01).onChange(a),n.open()}static initRange(e,t){const i={radiusMin:t[0].radiusPan.a,radiusMax:t[0].radiusPan.b,tha:t[0].tha},a=e=>{t.forEach((e=>{e.radiusPan.a=i.radiusMin,e.radiusPan.b=i.radiusMax,e.tha=i.tha}))},n=e.addFolder("RadialVelocity");n.add(i,"radiusMin",0,45).step(.1).onChange(a),n.add(i,"radiusMax",0,45).step(.1).onChange(a),n.add(i,"tha",0,Math.PI).step(.1).onChange(a),n.open()}static initRadius(e,t){const i={min:t[0].radius.a,max:t[0].radius.b},a=e=>{t.forEach((e=>{e.radius.a=i.min,e.radius.b=i.max}))},n=e.addFolder("Initial Sprite Size");n.add(i,"min",0,45).step(.1).onChange(a),n.add(i,"max",0,45).step(.1).onChange(a),n.open()}static initLife(e,t){const i=t[0].lifePan,a={min:i.a,max:i.b},n=e=>{t.forEach((e=>{e.lifePan.a=a.min,e.lifePan.b=a.max}))},r=e.addFolder("Life");r.add(a,"min",0,12).step(.1).onChange(n),r.add(a,"max",0,24).step(.1).onChange(n),r.open()}static initAlpha(e,t){const i={start:t[0].alphaA.a,end:t[0].alphaB.a},a=e=>{t.forEach((e=>{e.alphaA.a=i.start,e.alphaA.b=i.start,e.alphaB.a=i.end,e.alphaB.b=i.end}))},n=e.addFolder("Alpha");n.add(i,"start",0,1).step(.1).onChange(a),n.add(i,"end",0,1).step(.1).onChange(a),n.open()}static initScale(e,t){const i={start:t[0].scaleA.a,end:t[0].scaleB.a},a=e=>{t.forEach((e=>{e.scaleA.a=i.start,e.scaleA.b=i.start,e.scaleB.a=i.end,e.scaleB.b=i.end}))},n=e.addFolder("Scale");n.add(i,"start",0,3).step(.1).onChange(a),n.add(i,"end",0,3).step(.1).onChange(a),n.open()}static initColor(e,t){const i={start:t[0].colorA.colors[0].getHex(),end:t[0].colorB.colors[0].getHex()},a=()=>{t.forEach((e=>{e.colorA.colors[0].setHex(i.start),e.colorB.colors[0].setHex(i.end)}))},n=e.addFolder("Color");n.addColor(i,"start").onChange(a),n.addColor(i,"end").onChange(a),n.open()}}class h{constructor(){const e=s.initScene();s.initLight(e);const t=s.initCamera(e,h.W,h.H),i=s.initRenderer(h.W,h.H),a=s.initControl(t,i);s.initHelper(e),this.initObject(e),s.render(a,i,e,t,(()=>{this.system&&this.system.update()})),this.initGUI()}initObject(e){this.system=new r.ZP,this.emitter=new d({maps:["./textures/fire01.png","./textures/fire02.png","./textures/fire03.png","./textures/fire04.png"]});const t=new r.Tz(e,n);this.system.addEmitter(this.emitter),this.system.addRenderer(t)}initGUI(){const e=new a.XS,t=e.addFolder("Emitter");t.open(),l.initEmitterPosition(t,[this.emitter]),l.initEmitterRate(t,[this.emitter]),l.initRange(t,[this.emitter.rangeInitializer]),l.initRadius(t,[this.emitter.radiusInitializer]),l.initLife(t,[this.emitter.lifeInitializer]);const i=e.addFolder("Behaviour");l.initAlpha(i,[this.emitter.alphaBehaviour]),l.initScale(i,[this.emitter.scaleBehaviour]),l.initColor(i,[this.emitter.colorBehaviour]),i.open()}}h.W=640,h.H=480,window.onload=()=>{new h}}},i={};function a(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,e=[],a.O=(t,i,n,r)=>{if(!i){var o=1/0;for(h=0;h<e.length;h++){for(var[i,n,r]=e[h],s=!0,d=0;d<i.length;d++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](i[d])))?i.splice(d--,1):(s=!1,r<o&&(o=r));if(s){e.splice(h--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[i,n,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=268,(()=>{var e={268:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var n,r,[o,s,d]=i,l=0;if(o.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(d)var h=d(a)}for(t&&t(i);l<o.length;l++)r=o[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(h)},i=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=a.O(void 0,[736],(()=>a(4708)));n=a.O(n)})();