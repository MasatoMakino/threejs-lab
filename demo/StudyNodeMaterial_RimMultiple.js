(()=>{"use strict";var __webpack_modules__={4084:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// UNUSED EXPORTS: Study\n\n// EXTERNAL MODULE: ./node_modules/lil-gui/dist/lil-gui.esm.js\nvar lil_gui_esm = __webpack_require__(638);\n// EXTERNAL MODULE: ./node_modules/three/build/three.webgpu.js\nvar three_webgpu = __webpack_require__(6293);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(3580);\n;// CONCATENATED MODULE: ./src/CommonWebGPU.ts\n\n\nvar Common = /** @class */ (function () {\n    function Common() {\n    }\n    Common.initScene = function () {\n        var scene = new three_webgpu/* Scene */.Z58();\n        return scene;\n    };\n    Common.initLight = function (scene) {\n        var ambientLight = new three_webgpu/* AmbientLight */.$p8(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    };\n    Common.initCamera = function (scene, W, H, near, far) {\n        if (near === void 0) { near = 1; }\n        if (far === void 0) { far = 400; }\n        var camera = new three_webgpu/* PerspectiveCamera */.ubm(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    };\n    Common.initControl = function (camera, render) {\n        var domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        var control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    };\n    Common.initWebGPURenderer = function (W, H, color, id, antialias) {\n        if (color === void 0) { color = 0x000000; }\n        if (id === void 0) { id = "webgl-canvas"; }\n        if (antialias === void 0) { antialias = true; }\n        var renderer = new three_webgpu/* WebGPURenderer */.uV1({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    };\n    Common.initRendererSettings = function (renderer, color, W, H) {\n        renderer.setClearColor(new three_webgpu/* Color */.Q1f(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_webgpu/* REVISION */.sPf);\n    };\n    Common.initHelper = function (scene) {\n        var axesHelper = new three_webgpu/* AxesHelper */.IzY(30);\n        scene.add(axesHelper);\n    };\n    Common.render = function (control, renderer, scene, camera, onBeforeRender) {\n        var rendering = function () {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.renderAsync(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    };\n    Common.addRendererInfo = function () {\n        var info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    };\n    Common.updateRendererInfo = function (div, info) {\n        div.innerText = JSON.stringify(info);\n    };\n    return Common;\n}());\n\n\n;// CONCATENATED MODULE: ./src/tsl/RimFunction.ts\n\nvar rimEffect = (0,three_webgpu.Fn)(function (_a) {\n    var rimColor = _a[0], rimPow = _a[1], rimStrength = _a[2], insideColor = _a[3], insidePow = _a[4], insideStrength = _a[5];\n    return rimAngleEffect(rimColor, rimPow, rimStrength, insideColor, insidePow, insideStrength, (0,three_webgpu/* vec3 */.eR5)(0.0, 0.0, 1.0));\n});\nvar rimAngleEffect = (0,three_webgpu.Fn)(function (_a) {\n    var rimColor = _a[0], rimPow = _a[1], rimStrength = _a[2], insideColor = _a[3], insidePow = _a[4], insideStrength = _a[5], angle = _a[6];\n    var addColor = (0,three_webgpu/* vec3 */.eR5)(0.0, 0.0, 0.0).toVar();\n    var rimAngle = (0,three_webgpu/* max */.T9B)(0.0, three_webgpu/* transformedNormalView */.ono.dot((0,three_webgpu/* vec3 */.eR5)(angle)));\n    var rimGlow = (0,three_webgpu/* sub */.jbE)(1.0, rimAngle);\n    rimGlow.assign((0,three_webgpu/* pow */.n7C)(rimGlow, rimPow));\n    addColor.rgb.addAssign(rimColor.mul(rimGlow.mul(rimStrength)));\n    var insideGlow = (0,three_webgpu/* pow */.n7C)(rimAngle, insidePow);\n    addColor.rgb.addAssign(insideColor.mul(insideGlow.mul(insideStrength)));\n    return addColor;\n});\n\n;// CONCATENATED MODULE: ./src/StudyNodeMaterial_RimMultiple.ts\n\n\n\n\nvar Study = /** @class */ (function () {\n    function Study() {\n        this.initGUI = function (color, setting) {\n            var gui = new lil_gui_esm/* default */.Ay();\n            var options = {\n                color: color.getHex(),\n            };\n            gui.addColor(options, "color").onChange(function (v) {\n                color.setHex(v);\n            });\n            return gui;\n        };\n        this.addRimSettingGUI = function (name, setting, gui) {\n            var options = {\n                rimColor: setting.rimColor.value.getHex(),\n                rimStrength: setting.rimStrength.value,\n                rimPow: setting.rimPow.value,\n                rimInnerColor: setting.rimInnerColor.value.getHex(),\n                rimInnerStrength: setting.rimInnerStrength.value,\n                rimInnerPow: setting.rimInnerPow.value,\n                angleX: setting.angle.value.x,\n                angleY: setting.angle.value.y,\n                angleZ: setting.angle.value.z,\n            };\n            var folder = gui.addFolder(name);\n            folder.addColor(options, "rimColor").onChange(function (v) {\n                setting.rimColor.value.setHex(v);\n            });\n            folder.add(options, "rimStrength", 0, 1).onChange(function (v) {\n                setting.rimStrength.value = v;\n            });\n            folder.add(options, "rimPow", 0, 5).onChange(function (v) {\n                setting.rimPow.value = v;\n            });\n            folder.addColor(options, "rimInnerColor").onChange(function (v) {\n                setting.rimInnerColor.value.setHex(v);\n            });\n            folder.add(options, "rimInnerStrength", 0, 1).onChange(function (v) {\n                setting.rimInnerStrength.value = v;\n            });\n            folder.add(options, "rimInnerPow", 0, 5).onChange(function (v) {\n                setting.rimInnerPow.value = v;\n            });\n            folder.add(options, "angleX", -1, 1).onChange(function (v) {\n                setting.angle.value.x = v;\n            });\n            folder.add(options, "angleY", -1, 1).onChange(function (v) {\n                setting.angle.value.y = v;\n            });\n            folder.add(options, "angleZ", -1, 1).onChange(function (v) {\n                setting.angle.value.z = v;\n            });\n        };\n        var scene = Common.initScene();\n        Common.initLight(scene);\n        var camera = Common.initCamera(scene, Study.W, Study.H);\n        var renderer = Common.initWebGPURenderer(Study.W, Study.H);\n        var control = Common.initControl(camera, renderer);\n        Common.initHelper(scene);\n        this.initObject(scene);\n        Common.render(control, renderer, scene, camera);\n    }\n    Study.prototype.initObject = function (scene) {\n        var geo = new three_webgpu/* TorusGeometry */.O3Y(10, 4, 16, 100);\n        var mat = new three_webgpu/* MeshBasicNodeMaterial */.P8l();\n        mat.color.setHex(0x000000);\n        var generateRimEffectSetting = function () {\n            var rimColor = (0,three_webgpu/* uniform */.PiW)(new three_webgpu/* Color */.Q1f(0xff0000));\n            var rimStrength = (0,three_webgpu/* uniform */.PiW)(1);\n            var rimPow = (0,three_webgpu/* uniform */.PiW)(2.0);\n            var rimInnerColor = (0,three_webgpu/* uniform */.PiW)(new three_webgpu/* Color */.Q1f(0x000000));\n            var rimInnerStrength = (0,three_webgpu/* uniform */.PiW)(0.1);\n            var rimInnerPow = (0,three_webgpu/* uniform */.PiW)(1.0);\n            var angle = (0,three_webgpu/* uniform */.PiW)(new three_webgpu/* Vector3 */.Pq0(0, 0, 1));\n            return {\n                rimColor: rimColor,\n                rimStrength: rimStrength,\n                rimPow: rimPow,\n                rimInnerColor: rimInnerColor,\n                rimInnerStrength: rimInnerStrength,\n                rimInnerPow: rimInnerPow,\n                angle: angle,\n            };\n        };\n        var rim01 = generateRimEffectSetting();\n        var rim02 = generateRimEffectSetting();\n        rim02.rimColor.value.setHex(0x77aaff);\n        rim02.angle.value.set(-0.1, 0.4, 1);\n        var rim03 = generateRimEffectSetting();\n        rim03.rimColor.value.setHex(0x44ff55);\n        rim03.angle.value.set(-0.7, -0.4, 1);\n        rim03.rimStrength.value = 0.2;\n        var addRim = function (node, setting) {\n            return node.add(rimAngleEffect(setting.rimColor, setting.rimPow, setting.rimStrength, setting.rimInnerColor, setting.rimInnerPow, setting.rimInnerStrength, setting.angle));\n        };\n        var rim = addRim(three_webgpu/* materialColor */.HMD, rim01);\n        rim = addRim(rim, rim02);\n        rim = addRim(rim, rim03);\n        mat.colorNode = rim;\n        var mesh = new three_webgpu/* Mesh */.eaF(geo, mat);\n        scene.add(mesh);\n        var gui = this.initGUI(mat.color, rim01);\n        this.addRimSettingGUI("rim01", rim01, gui);\n        this.addRimSettingGUI("rim02", rim02, gui);\n        this.addRimSettingGUI("rim03", rim03, gui);\n    };\n    Study.W = 640;\n    Study.H = 480;\n    return Study;\n}());\n\nwindow.onload = function () {\n    var study = new Study();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQTVFc0IsT0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNSLE9BQUMsR0FBRyxHQUFHLENBQUM7SUFpSWpDLFlBQUM7Q0FBQTtBQW5JaUI7QUFxSWxCLE1BQU0sQ0FBQyxNQUFNLEdBQUc7SUFDZCxJQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQzVCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RocmVlanMtbGFiLy4vc3JjL0NvbW1vbldlYkdQVS50cz9hMTAyIiwid2VicGFjazovL3RocmVlanMtbGFiLy4vc3JjL3RzbC9SaW1GdW5jdGlvbi50cz9mMGYzIiwid2VicGFjazovL3RocmVlanMtbGFiLy4vc3JjL1N0dWR5Tm9kZU1hdGVyaWFsX1JpbU11bHRpcGxlLnRzPzUyOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgV2ViR1BVUmVuZGVyZXIsXG4gIEFtYmllbnRMaWdodCxcbiAgQXhlc0hlbHBlcixcbiAgQ2FtZXJhLFxuICBDb2xvcixcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFNjZW5lLFxuICBSRVZJU0lPTixcbn0gZnJvbSBcInRocmVlL3dlYmdwdVwiO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tbW9uIHtcbiAgcHVibGljIHN0YXRpYyBpbml0U2NlbmUoKSB7XG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoKTtcbiAgICByZXR1cm4gc2NlbmU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRMaWdodChzY2VuZSkge1xuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBBbWJpZW50TGlnaHQoMHhmZmZmZmYsIDEuMCk7XG4gICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG4gICAgcmV0dXJuIGFtYmllbnRMaWdodDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdENhbWVyYShcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlcixcbiAgICBuZWFyID0gMSxcbiAgICBmYXIgPSA0MDBcbiAgKTogUGVyc3BlY3RpdmVDYW1lcmEge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgVyAvIEgsIG5lYXIsIGZhcik7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAxMDApO1xuICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZChmYWxzZSk7XG4gICAgc2NlbmUuYWRkKGNhbWVyYSk7XG4gICAgcmV0dXJuIGNhbWVyYTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdENvbnRyb2woXG4gICAgY2FtZXJhOiBDYW1lcmEsXG4gICAgcmVuZGVyOiBXZWJHUFVSZW5kZXJlclxuICApOiBPcmJpdENvbnRyb2xzIHtcbiAgICBsZXQgZG9tRWxlbWVudDtcbiAgICBpZiAocmVuZGVyKSB7XG4gICAgICBkb21FbGVtZW50ID0gcmVuZGVyLmRvbUVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2wgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIGRvbUVsZW1lbnQpO1xuICAgIGNvbnRyb2wudXBkYXRlKCk7XG4gICAgcmV0dXJuIGNvbnRyb2w7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRXZWJHUFVSZW5kZXJlcihcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyLFxuICAgIGNvbG9yOiBudW1iZXIgPSAweDAwMDAwMCxcbiAgICBpZDogc3RyaW5nID0gXCJ3ZWJnbC1jYW52YXNcIixcbiAgICBhbnRpYWxpYXM6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFdlYkdQVVJlbmRlcmVyKHtcbiAgICAgIGNhbnZhczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50LFxuICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG4gICAgfSk7XG4gICAgdGhpcy5pbml0UmVuZGVyZXJTZXR0aW5ncyhyZW5kZXJlciwgY29sb3IsIFcsIEgpO1xuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGluaXRSZW5kZXJlclNldHRpbmdzKFxuICAgIHJlbmRlcmVyOiBXZWJHUFVSZW5kZXJlcixcbiAgICBjb2xvcjogbnVtYmVyLFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXJcbiAgKSB7XG4gICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihuZXcgQ29sb3IoY29sb3IpKTtcbiAgICByZW5kZXJlci5zZXRTaXplKFcsIEgpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIGNvbnNvbGUubG9nKFwidGhyZWUuanMgcmV2aXNpb246IFwiLCBSRVZJU0lPTik7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRIZWxwZXIoc2NlbmU6IFNjZW5lKTogdm9pZCB7XG4gICAgY29uc3QgYXhlc0hlbHBlciA9IG5ldyBBeGVzSGVscGVyKDMwKTtcbiAgICBzY2VuZS5hZGQoYXhlc0hlbHBlcik7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHJlbmRlcihcbiAgICBjb250cm9sOiBPcmJpdENvbnRyb2xzLFxuICAgIHJlbmRlcmVyOiBXZWJHUFVSZW5kZXJlcixcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgY2FtZXJhOiBDYW1lcmEsXG4gICAgb25CZWZvcmVSZW5kZXI/OiAoKSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHJlbmRlcmluZyA9ICgpID0+IHtcbiAgICAgIGlmIChvbkJlZm9yZVJlbmRlcikge1xuICAgICAgICBvbkJlZm9yZVJlbmRlcigpO1xuICAgICAgfVxuICAgICAgY29udHJvbC51cGRhdGUoKTtcbiAgICAgIHJlbmRlcmVyLnJlbmRlckFzeW5jKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcmluZyk7XG4gICAgfTtcbiAgICByZW5kZXJpbmcoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgYWRkUmVuZGVyZXJJbmZvKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB1cGRhdGVSZW5kZXJlckluZm8oZGl2OiBIVE1MRGl2RWxlbWVudCwgaW5mbzogYW55KTogdm9pZCB7XG4gICAgZGl2LmlubmVyVGV4dCA9IEpTT04uc3RyaW5naWZ5KGluZm8pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb2xvciwgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHtcbiAgU2hhZGVyTm9kZU9iamVjdCxcbiAgVW5pZm9ybU5vZGUsXG4gIG1heCxcbiAgcG93LFxuICBzdWIsXG4gIHRyYW5zZm9ybWVkTm9ybWFsVmlldyxcbiAgRm4sXG4gIHZlYzMsXG59IGZyb20gXCJ0aHJlZS93ZWJncHVcIjtcblxudHlwZSBVbmlmb3JtVHlwZTxUPiA9IFNoYWRlck5vZGVPYmplY3Q8VW5pZm9ybU5vZGU8VD4+O1xuXG5leHBvcnQgY29uc3QgcmltRWZmZWN0ID0gRm4oXG4gIChbcmltQ29sb3IsIHJpbVBvdywgcmltU3RyZW5ndGgsIGluc2lkZUNvbG9yLCBpbnNpZGVQb3csIGluc2lkZVN0cmVuZ3RoXTogW1xuICAgIFVuaWZvcm1UeXBlPENvbG9yPixcbiAgICBVbmlmb3JtVHlwZTxudW1iZXI+LFxuICAgIFVuaWZvcm1UeXBlPG51bWJlcj4sXG4gICAgVW5pZm9ybVR5cGU8Q29sb3I+LFxuICAgIFVuaWZvcm1UeXBlPG51bWJlcj4sXG4gICAgVW5pZm9ybVR5cGU8bnVtYmVyPlxuICBdKSA9PiB7XG4gICAgcmV0dXJuIHJpbUFuZ2xlRWZmZWN0KFxuICAgICAgcmltQ29sb3IsXG4gICAgICByaW1Qb3csXG4gICAgICByaW1TdHJlbmd0aCxcbiAgICAgIGluc2lkZUNvbG9yLFxuICAgICAgaW5zaWRlUG93LFxuICAgICAgaW5zaWRlU3RyZW5ndGgsXG4gICAgICB2ZWMzKDAuMCwgMC4wLCAxLjApXG4gICAgKTtcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IHJpbUFuZ2xlRWZmZWN0ID0gRm4oXG4gIChbXG4gICAgcmltQ29sb3IsXG4gICAgcmltUG93LFxuICAgIHJpbVN0cmVuZ3RoLFxuICAgIGluc2lkZUNvbG9yLFxuICAgIGluc2lkZVBvdyxcbiAgICBpbnNpZGVTdHJlbmd0aCxcbiAgICBhbmdsZSxcbiAgXTogW1xuICAgIFVuaWZvcm1UeXBlPENvbG9yPixcbiAgICBVbmlmb3JtVHlwZTxudW1iZXI+LFxuICAgIFVuaWZvcm1UeXBlPG51bWJlcj4sXG4gICAgVW5pZm9ybVR5cGU8Q29sb3I+LFxuICAgIFVuaWZvcm1UeXBlPG51bWJlcj4sXG4gICAgVW5pZm9ybVR5cGU8bnVtYmVyPixcbiAgICBVbmlmb3JtVHlwZTxWZWN0b3IzPiB8IFZlY3RvcjNcbiAgXSkgPT4ge1xuICAgIGNvbnN0IGFkZENvbG9yID0gdmVjMygwLjAsIDAuMCwgMC4wKS50b1ZhcigpO1xuXG4gICAgY29uc3QgcmltQW5nbGUgPSBtYXgoMC4wLCB0cmFuc2Zvcm1lZE5vcm1hbFZpZXcuZG90KHZlYzMoYW5nbGUpKSk7XG4gICAgY29uc3QgcmltR2xvdyA9IHN1YigxLjAsIHJpbUFuZ2xlKTtcblxuICAgIHJpbUdsb3cuYXNzaWduKHBvdyhyaW1HbG93LCByaW1Qb3cpKTtcbiAgICBhZGRDb2xvci5yZ2IuYWRkQXNzaWduKHJpbUNvbG9yLm11bChyaW1HbG93Lm11bChyaW1TdHJlbmd0aCkpKTtcbiAgICBjb25zdCBpbnNpZGVHbG93ID0gcG93KHJpbUFuZ2xlLCBpbnNpZGVQb3cpO1xuICAgIGFkZENvbG9yLnJnYi5hZGRBc3NpZ24oaW5zaWRlQ29sb3IubXVsKGluc2lkZUdsb3cubXVsKGluc2lkZVN0cmVuZ3RoKSkpO1xuXG4gICAgcmV0dXJuIGFkZENvbG9yO1xuICB9XG4pO1xuIiwiaW1wb3J0IEdVSSBmcm9tIFwibGlsLWd1aVwiO1xuaW1wb3J0IHtcbiAgQ29sb3IsXG4gIE1lc2gsXG4gIFNjZW5lLFxuICBUb3J1c0dlb21ldHJ5LFxuICBWZWN0b3IzLFxuICBNZXNoQmFzaWNOb2RlTWF0ZXJpYWwsXG4gIFNoYWRlck5vZGVPYmplY3QsXG4gIFVuaWZvcm1Ob2RlLFxuICBtYXRlcmlhbENvbG9yLFxuICB1bmlmb3JtLFxufSBmcm9tIFwidGhyZWUvd2ViZ3B1XCI7XG5pbXBvcnQgeyBDb21tb24gfSBmcm9tIFwiLi9Db21tb25XZWJHUFUuanNcIjtcbmltcG9ydCB7IHJpbUFuZ2xlRWZmZWN0IH0gZnJvbSBcIi4vdHNsL1JpbUZ1bmN0aW9uLmpzXCI7XG5cbnR5cGUgVW5pZm9ybVR5cGU8VD4gPSBTaGFkZXJOb2RlT2JqZWN0PFVuaWZvcm1Ob2RlPFQ+PjtcbnR5cGUgUmltU2V0dGluZyA9IHtcbiAgcmltQ29sb3I6IFVuaWZvcm1UeXBlPENvbG9yPjtcbiAgcmltU3RyZW5ndGg6IFVuaWZvcm1UeXBlPG51bWJlcj47XG4gIHJpbVBvdzogVW5pZm9ybVR5cGU8bnVtYmVyPjtcbiAgcmltSW5uZXJDb2xvcjogVW5pZm9ybVR5cGU8Q29sb3I+O1xuICByaW1Jbm5lclN0cmVuZ3RoOiBVbmlmb3JtVHlwZTxudW1iZXI+O1xuICByaW1Jbm5lclBvdzogVW5pZm9ybVR5cGU8bnVtYmVyPjtcbiAgYW5nbGU6IFVuaWZvcm1UeXBlPFZlY3RvcjM+O1xufTtcbmV4cG9ydCBjbGFzcyBTdHVkeSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVyA9IDY0MDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIID0gNDgwO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IHNjZW5lID0gQ29tbW9uLmluaXRTY2VuZSgpO1xuICAgIENvbW1vbi5pbml0TGlnaHQoc2NlbmUpO1xuICAgIGNvbnN0IGNhbWVyYSA9IENvbW1vbi5pbml0Q2FtZXJhKHNjZW5lLCBTdHVkeS5XLCBTdHVkeS5IKTtcblxuICAgIGNvbnN0IHJlbmRlcmVyID0gQ29tbW9uLmluaXRXZWJHUFVSZW5kZXJlcihTdHVkeS5XLCBTdHVkeS5IKTtcbiAgICBjb25zdCBjb250cm9sID0gQ29tbW9uLmluaXRDb250cm9sKGNhbWVyYSwgcmVuZGVyZXIpO1xuICAgIENvbW1vbi5pbml0SGVscGVyKHNjZW5lKTtcbiAgICB0aGlzLmluaXRPYmplY3Qoc2NlbmUpO1xuICAgIENvbW1vbi5yZW5kZXIoY29udHJvbCwgcmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0T2JqZWN0KHNjZW5lOiBTY2VuZSk6IHZvaWQge1xuICAgIGNvbnN0IGdlbyA9IG5ldyBUb3J1c0dlb21ldHJ5KDEwLCA0LCAxNiwgMTAwKTtcbiAgICBjb25zdCBtYXQgPSBuZXcgTWVzaEJhc2ljTm9kZU1hdGVyaWFsKCk7XG4gICAgbWF0LmNvbG9yLnNldEhleCgweDAwMDAwMCk7XG5cbiAgICBjb25zdCBnZW5lcmF0ZVJpbUVmZmVjdFNldHRpbmcgPSAoKTogUmltU2V0dGluZyA9PiB7XG4gICAgICBjb25zdCByaW1Db2xvciA9IHVuaWZvcm0obmV3IENvbG9yKDB4ZmYwMDAwKSk7XG4gICAgICBjb25zdCByaW1TdHJlbmd0aCA9IHVuaWZvcm0oMSk7XG4gICAgICBjb25zdCByaW1Qb3cgPSB1bmlmb3JtKDIuMCk7XG4gICAgICBjb25zdCByaW1Jbm5lckNvbG9yID0gdW5pZm9ybShuZXcgQ29sb3IoMHgwMDAwMDApKTtcbiAgICAgIGNvbnN0IHJpbUlubmVyU3RyZW5ndGggPSB1bmlmb3JtKDAuMSk7XG4gICAgICBjb25zdCByaW1Jbm5lclBvdyA9IHVuaWZvcm0oMS4wKTtcbiAgICAgIGNvbnN0IGFuZ2xlID0gdW5pZm9ybShuZXcgVmVjdG9yMygwLCAwLCAxKSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByaW1Db2xvcixcbiAgICAgICAgcmltU3RyZW5ndGgsXG4gICAgICAgIHJpbVBvdyxcbiAgICAgICAgcmltSW5uZXJDb2xvcixcbiAgICAgICAgcmltSW5uZXJTdHJlbmd0aCxcbiAgICAgICAgcmltSW5uZXJQb3csXG4gICAgICAgIGFuZ2xlLFxuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHJpbTAxID0gZ2VuZXJhdGVSaW1FZmZlY3RTZXR0aW5nKCk7XG4gICAgY29uc3QgcmltMDIgPSBnZW5lcmF0ZVJpbUVmZmVjdFNldHRpbmcoKTtcbiAgICByaW0wMi5yaW1Db2xvci52YWx1ZS5zZXRIZXgoMHg3N2FhZmYpO1xuICAgIHJpbTAyLmFuZ2xlLnZhbHVlLnNldCgtMC4xLCAwLjQsIDEpO1xuICAgIGNvbnN0IHJpbTAzID0gZ2VuZXJhdGVSaW1FZmZlY3RTZXR0aW5nKCk7XG4gICAgcmltMDMucmltQ29sb3IudmFsdWUuc2V0SGV4KDB4NDRmZjU1KTtcbiAgICByaW0wMy5hbmdsZS52YWx1ZS5zZXQoLTAuNywgLTAuNCwgMSk7XG4gICAgcmltMDMucmltU3RyZW5ndGgudmFsdWUgPSAwLjI7XG5cbiAgICBjb25zdCBhZGRSaW0gPSAoXG4gICAgICBub2RlOiBTaGFkZXJOb2RlT2JqZWN0PGFueT4sXG4gICAgICBzZXR0aW5nOiBSaW1TZXR0aW5nXG4gICAgKTogU2hhZGVyTm9kZU9iamVjdDxhbnk+ID0+IHtcbiAgICAgIHJldHVybiBub2RlLmFkZChcbiAgICAgICAgcmltQW5nbGVFZmZlY3QoXG4gICAgICAgICAgc2V0dGluZy5yaW1Db2xvcixcbiAgICAgICAgICBzZXR0aW5nLnJpbVBvdyxcbiAgICAgICAgICBzZXR0aW5nLnJpbVN0cmVuZ3RoLFxuICAgICAgICAgIHNldHRpbmcucmltSW5uZXJDb2xvcixcbiAgICAgICAgICBzZXR0aW5nLnJpbUlubmVyUG93LFxuICAgICAgICAgIHNldHRpbmcucmltSW5uZXJTdHJlbmd0aCxcbiAgICAgICAgICBzZXR0aW5nLmFuZ2xlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGxldCByaW0gPSBhZGRSaW0obWF0ZXJpYWxDb2xvciwgcmltMDEpO1xuICAgIHJpbSA9IGFkZFJpbShyaW0sIHJpbTAyKTtcbiAgICByaW0gPSBhZGRSaW0ocmltLCByaW0wMyk7XG5cbiAgICBtYXQuY29sb3JOb2RlID0gcmltO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW8sIG1hdCk7XG4gICAgc2NlbmUuYWRkKG1lc2gpO1xuXG4gICAgY29uc3QgZ3VpID0gdGhpcy5pbml0R1VJKG1hdC5jb2xvciwgcmltMDEpO1xuICAgIHRoaXMuYWRkUmltU2V0dGluZ0dVSShcInJpbTAxXCIsIHJpbTAxLCBndWkpO1xuICAgIHRoaXMuYWRkUmltU2V0dGluZ0dVSShcInJpbTAyXCIsIHJpbTAyLCBndWkpO1xuICAgIHRoaXMuYWRkUmltU2V0dGluZ0dVSShcInJpbTAzXCIsIHJpbTAzLCBndWkpO1xuICB9XG5cbiAgaW5pdEdVSSA9IChjb2xvcjogQ29sb3IsIHNldHRpbmc6IFJpbVNldHRpbmcpID0+IHtcbiAgICBjb25zdCBndWkgPSBuZXcgR1VJKCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGNvbG9yOiBjb2xvci5nZXRIZXgoKSxcbiAgICB9O1xuICAgIGd1aS5hZGRDb2xvcihvcHRpb25zLCBcImNvbG9yXCIpLm9uQ2hhbmdlKCh2KSA9PiB7XG4gICAgICBjb2xvci5zZXRIZXgodik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGd1aTtcbiAgfTtcblxuICBhZGRSaW1TZXR0aW5nR1VJID0gKG5hbWU6IHN0cmluZywgc2V0dGluZzogUmltU2V0dGluZywgZ3VpOiBHVUkpID0+IHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgcmltQ29sb3I6IHNldHRpbmcucmltQ29sb3IudmFsdWUuZ2V0SGV4KCksXG4gICAgICByaW1TdHJlbmd0aDogc2V0dGluZy5yaW1TdHJlbmd0aC52YWx1ZSxcbiAgICAgIHJpbVBvdzogc2V0dGluZy5yaW1Qb3cudmFsdWUsXG4gICAgICByaW1Jbm5lckNvbG9yOiBzZXR0aW5nLnJpbUlubmVyQ29sb3IudmFsdWUuZ2V0SGV4KCksXG4gICAgICByaW1Jbm5lclN0cmVuZ3RoOiBzZXR0aW5nLnJpbUlubmVyU3RyZW5ndGgudmFsdWUsXG4gICAgICByaW1Jbm5lclBvdzogc2V0dGluZy5yaW1Jbm5lclBvdy52YWx1ZSxcbiAgICAgIGFuZ2xlWDogc2V0dGluZy5hbmdsZS52YWx1ZS54LFxuICAgICAgYW5nbGVZOiBzZXR0aW5nLmFuZ2xlLnZhbHVlLnksXG4gICAgICBhbmdsZVo6IHNldHRpbmcuYW5nbGUudmFsdWUueixcbiAgICB9O1xuICAgIGNvbnN0IGZvbGRlciA9IGd1aS5hZGRGb2xkZXIobmFtZSk7XG4gICAgZm9sZGVyLmFkZENvbG9yKG9wdGlvbnMsIFwicmltQ29sb3JcIikub25DaGFuZ2UoKHYpID0+IHtcbiAgICAgIHNldHRpbmcucmltQ29sb3IudmFsdWUuc2V0SGV4KHYpO1xuICAgIH0pO1xuICAgIGZvbGRlci5hZGQob3B0aW9ucywgXCJyaW1TdHJlbmd0aFwiLCAwLCAxKS5vbkNoYW5nZSgodikgPT4ge1xuICAgICAgc2V0dGluZy5yaW1TdHJlbmd0aC52YWx1ZSA9IHY7XG4gICAgfSk7XG4gICAgZm9sZGVyLmFkZChvcHRpb25zLCBcInJpbVBvd1wiLCAwLCA1KS5vbkNoYW5nZSgodikgPT4ge1xuICAgICAgc2V0dGluZy5yaW1Qb3cudmFsdWUgPSB2O1xuICAgIH0pO1xuICAgIGZvbGRlci5hZGRDb2xvcihvcHRpb25zLCBcInJpbUlubmVyQ29sb3JcIikub25DaGFuZ2UoKHYpID0+IHtcbiAgICAgIHNldHRpbmcucmltSW5uZXJDb2xvci52YWx1ZS5zZXRIZXgodik7XG4gICAgfSk7XG4gICAgZm9sZGVyLmFkZChvcHRpb25zLCBcInJpbUlubmVyU3RyZW5ndGhcIiwgMCwgMSkub25DaGFuZ2UoKHYpID0+IHtcbiAgICAgIHNldHRpbmcucmltSW5uZXJTdHJlbmd0aC52YWx1ZSA9IHY7XG4gICAgfSk7XG4gICAgZm9sZGVyLmFkZChvcHRpb25zLCBcInJpbUlubmVyUG93XCIsIDAsIDUpLm9uQ2hhbmdlKCh2KSA9PiB7XG4gICAgICBzZXR0aW5nLnJpbUlubmVyUG93LnZhbHVlID0gdjtcbiAgICB9KTtcbiAgICBmb2xkZXIuYWRkKG9wdGlvbnMsIFwiYW5nbGVYXCIsIC0xLCAxKS5vbkNoYW5nZSgodikgPT4ge1xuICAgICAgc2V0dGluZy5hbmdsZS52YWx1ZS54ID0gdjtcbiAgICB9KTtcbiAgICBmb2xkZXIuYWRkKG9wdGlvbnMsIFwiYW5nbGVZXCIsIC0xLCAxKS5vbkNoYW5nZSgodikgPT4ge1xuICAgICAgc2V0dGluZy5hbmdsZS52YWx1ZS55ID0gdjtcbiAgICB9KTtcbiAgICBmb2xkZXIuYWRkKG9wdGlvbnMsIFwiYW5nbGVaXCIsIC0xLCAxKS5vbkNoYW5nZSgodikgPT4ge1xuICAgICAgc2V0dGluZy5hbmdsZS52YWx1ZS56ID0gdjtcbiAgICB9KTtcbiAgfTtcbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgY29uc3Qgc3R1ZHkgPSBuZXcgU3R1ZHkoKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4084\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(F.exports,F,F.exports,__webpack_require__),F.loaded=!0,F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var n=1/0;for(i=0;i<deferred.length;i++){for(var[U,F,B]=deferred[i],e=!0,s=0;s<U.length;s++)(!1&B||n>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[s])))?U.splice(s--,1):(e=!1,B<n&&(n=B));if(e){deferred.splice(i--,1);var g=F();void 0!==g&&(Q=g)}}return Q}B=B||0;for(var i=deferred.length;i>0&&deferred[i-1][2]>B;i--)deferred[i]=deferred[i-1];deferred[i]=[U,F,B]},__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=460,(()=>{var Q={460:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,n,[e,s,g]=F,i=0;if(e.some((U=>0!==Q[U]))){for(B in s)__webpack_require__.o(s,B)&&(__webpack_require__.m[B]=s[B]);if(g)var x=g(__webpack_require__)}for(U&&U(F);i<e.length;i++)n=e[i],__webpack_require__.o(Q,n)&&Q[n]&&Q[n][0](),Q[n]=0;return __webpack_require__.O(x)},F=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(4084)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();