(()=>{"use strict";var __webpack_modules__={936:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// UNUSED EXPORTS: Study\n\n// EXTERNAL MODULE: ./node_modules/lil-gui/dist/lil-gui.esm.js\nvar lil_gui_esm = __webpack_require__(638);\n// EXTERNAL MODULE: ./node_modules/three/build/three.webgpu.js\nvar three_webgpu = __webpack_require__(6293);\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(6753);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(3580);\n;// CONCATENATED MODULE: ./src/Common.ts\n\n\nclass Common {\n    static initScene() {\n        const scene = new three_module.Scene();\n        return scene;\n    }\n    static initLight(scene) {\n        const ambientLight = new three_module.AmbientLight(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    }\n    static initCamera(scene, W, H, near = 1, far = 400) {\n        const camera = new three_module.PerspectiveCamera(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    }\n    static initControl(camera, render) {\n        let domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        const control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    }\n    static initRenderer(W, H, color = 0x000000, id = "webgl-canvas", antialias = true) {\n        const renderer = new three_module.WebGLRenderer({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    }\n    static initRendererSettings(renderer, color, W, H) {\n        renderer.setClearColor(new three_module.Color(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_module.REVISION);\n    }\n    static initHelper(scene) {\n        const axesHelper = new three_module.AxesHelper(30);\n        scene.add(axesHelper);\n    }\n    static render(control, renderer, scene, camera, onBeforeRender) {\n        const rendering = () => {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.render(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    }\n    static addRendererInfo() {\n        const info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    }\n    static updateRendererInfo(div, info) {\n        div.innerText = JSON.stringify(info);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/CommonWebGPU.ts\n\n\nclass CommonWebGPU_Common {\n    static initScene() {\n        const scene = new three_webgpu/* Scene */.Z58();\n        return scene;\n    }\n    static initLight(scene) {\n        const ambientLight = new three_webgpu/* AmbientLight */.$p8(0xffffff, 1.0);\n        scene.add(ambientLight);\n        return ambientLight;\n    }\n    static initCamera(scene, W, H, near = 1, far = 400) {\n        const camera = new three_webgpu/* PerspectiveCamera */.ubm(45, W / H, near, far);\n        camera.position.set(0, 0, 100);\n        camera.updateMatrixWorld(false);\n        scene.add(camera);\n        return camera;\n    }\n    static initControl(camera, render) {\n        let domElement;\n        if (render) {\n            domElement = render.domElement;\n        }\n        const control = new OrbitControls/* OrbitControls */.N(camera, domElement);\n        control.update();\n        return control;\n    }\n    static initWebGPURenderer(W, H, color = 0x000000, id = "webgl-canvas", antialias = true) {\n        const renderer = new three_webgpu/* WebGPURenderer */.uV1({\n            canvas: document.getElementById(id),\n            antialias: antialias,\n        });\n        this.initRendererSettings(renderer, color, W, H);\n        return renderer;\n    }\n    static initRendererSettings(renderer, color, W, H) {\n        renderer.setClearColor(new three_webgpu/* Color */.Q1f(color));\n        renderer.setSize(W, H);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        console.log("three.js revision: ", three_webgpu/* REVISION */.sPf);\n    }\n    static initHelper(scene) {\n        const axesHelper = new three_webgpu/* AxesHelper */.IzY(30);\n        scene.add(axesHelper);\n    }\n    static render(control, renderer, scene, camera, onBeforeRender) {\n        const rendering = () => {\n            if (onBeforeRender) {\n                onBeforeRender();\n            }\n            control.update();\n            renderer.renderAsync(scene, camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    }\n    static addRendererInfo() {\n        const info = document.createElement("div");\n        document.body.appendChild(info);\n        return info;\n    }\n    static updateRendererInfo(div, info) {\n        div.innerText = JSON.stringify(info);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/StudyColorSpaceAlpha.ts\n\n\n\n\n/**\n * WebGLとWebGPUでのopacity値の設定の違いを確認するためのサンプルコード\n * - WebGLではopacityプロパティはガンマ補正(2.2)が適用される\n * - WebGPUではリニア値が適用される。\n *\n * Color.setRGB(alpha, 0,0,"srgb")を利用することでガンマ補正後のアルファ値が取得できるので、\n * WebGPU環境でWebGLやPhotoshopなどの環境の表示を再現する場合はこちらを利用する。\n */\nclass Study {\n    static initWebGLScene() {\n        const scene = Common.initScene();\n        Common.initLight(scene);\n        const camera = Common.initCamera(scene, Study.W, Study.H);\n        return { scene, camera };\n    }\n    static initWebGPUScene() {\n        const scene = CommonWebGPU_Common.initScene();\n        CommonWebGPU_Common.initLight(scene);\n        const camera = CommonWebGPU_Common.initCamera(scene, Study.W, Study.H);\n        return { scene, camera };\n    }\n    constructor() {\n        /**\n         * CanvasElementを、そのCanvasElementを内包したfigure要素に置き換える。figure要素にはfigcaption要素が追加される。\n         * @param canvas\n         * @param figure\n         */\n        this.addFigure = (canvas, figure) => {\n            const figureElement = document.createElement("figure");\n            const figCaption = document.createElement("figcaption");\n            figCaption.textContent = figure;\n            figureElement.appendChild(canvas);\n            figureElement.appendChild(figCaption);\n            document.body.appendChild(figureElement);\n        };\n        this.initGUI = (materialBasic, materialBasicWebGPU, rendererGL, rendererWebGPU) => {\n            const materials = [materialBasic, materialBasicWebGPU];\n            const gui = new lil_gui_esm/* GUI */.cL();\n            const materialColor = {\n                r: 0.5,\n                g: 0.5,\n                b: 0.5,\n            };\n            const materialAlpha = {\n                a: 1,\n                useGamma: false,\n            };\n            const colorSpaceSetting = {\n                colorSpace: rendererGL.outputColorSpace,\n                workspace: three_webgpu/* ColorManagement */.ppV.workingColorSpace,\n            };\n            const onChangeColor = () => {\n                materials.forEach((m) => {\n                    m.color.setRGB(materialColor.r, materialColor.g, materialColor.b);\n                });\n            };\n            gui.add(materialColor, "r", 0, 1).onChange(onChangeColor);\n            gui.add(materialColor, "g", 0, 1).onChange(onChangeColor);\n            gui.add(materialColor, "b", 0, 1).onChange(onChangeColor);\n            const updateAlpha = () => {\n                materials.forEach((m) => {\n                    m.opacity = materialAlpha.a;\n                });\n            };\n            gui.add(materialAlpha, "a", 0, 1).onChange(updateAlpha);\n            const updateColorSpace = () => {\n                rendererGL.outputColorSpace = rendererWebGPU.outputColorSpace =\n                    colorSpaceSetting.colorSpace;\n                three_webgpu/* ColorManagement */.ppV.workingColorSpace = colorSpaceSetting.workspace;\n            };\n            gui\n                .add(colorSpaceSetting, "colorSpace", ["srgb", "srgb-linear"])\n                .onChange(updateColorSpace);\n            gui\n                .add(colorSpaceSetting, "workspace", ["srgb-linear", "display-p3-linear"])\n                .onChange(updateColorSpace);\n            onChangeColor();\n            updateAlpha();\n            updateColorSpace();\n        };\n        // const scene = Common.initScene();\n        // Common.initLight(scene);\n        // const camera = Common.initCamera(scene, Study.W, Study.H);\n        const glScnene = Study.initWebGLScene();\n        const wgpuScene = Study.initWebGPUScene();\n        const canvasGL = document.createElement("canvas");\n        canvasGL.id = "webGPU-canvas";\n        document.body.appendChild(canvasGL);\n        document.body.style.display = "flex"; // bodyの子要素を横並びにする\n        const renderer = Common.initRenderer(Study.W, Study.H, 0x000000);\n        const rendererGPU = CommonWebGPU_Common.initWebGPURenderer(Study.W, Study.H, 0x000000, "webGPU-canvas");\n        const matGL = this.initObject(glScnene.scene);\n        const matGPU = this.initObject(wgpuScene.scene);\n        this.addFigure(renderer.domElement, "WebGL");\n        this.addFigure(rendererGPU.domElement, "WebGPU");\n        this.initGUI(matGL, matGPU, renderer, rendererGPU);\n        const rendering = () => {\n            renderer.render(glScnene.scene, glScnene.camera);\n            rendererGPU.renderAsync(wgpuScene.scene, wgpuScene.camera);\n            requestAnimationFrame(rendering);\n        };\n        rendering();\n    }\n    initObject(scene) {\n        const geo = new three_webgpu/* PlaneGeometry */.bdM(30, 30);\n        const mat = new three_webgpu/* MeshBasicMaterial */.V9B();\n        mat.color.setRGB(1, 0, 0);\n        mat.transparent = true;\n        const mesh = new three_webgpu/* Mesh */.eaF(geo, mat);\n        scene.add(mesh);\n        return mat;\n    }\n}\nStudy.W = 640;\nStudy.H = 480;\nwindow.onload = () => {\n    const study = new Study();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ3JCLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakQsV0FBVyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzRCxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUM7UUFDRixTQUFTLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFnQk8sVUFBVSxDQUFDLEtBQVk7UUFDN0IsTUFBTSxHQUFHLEdBQUcsSUFBSSxtQ0FBYSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUV0QyxNQUFNLEdBQUcsR0FBRyxJQUFJLHVDQUFpQixFQUFFLENBQUM7UUFDcEMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQixHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN2QixNQUFNLElBQUksR0FBRyxJQUFJLDBCQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFaEIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDOztBQTVFc0IsT0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNSLE9BQUMsR0FBRyxHQUFHLENBQUM7QUF1SWpDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO0lBQ25CLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7QUFDNUIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvQ29tbW9uLnRzPzczMzAiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvQ29tbW9uV2ViR1BVLnRzP2ExMDIiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1sYWIvLi9zcmMvU3R1ZHlDb2xvclNwYWNlQWxwaGEudHM/ZDVkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBbWJpZW50TGlnaHQsXG4gIEF4ZXNIZWxwZXIsXG4gIENhbWVyYSxcbiAgQ29sb3IsXG4gIFBlcnNwZWN0aXZlQ2FtZXJhLFxuICBTY2VuZSxcbiAgV2ViR0xSZW5kZXJlcixcbiAgUkVWSVNJT04sXG59IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tbW9uIHtcbiAgcHVibGljIHN0YXRpYyBpbml0U2NlbmUoKSB7XG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoKTtcbiAgICByZXR1cm4gc2NlbmU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRMaWdodChzY2VuZSkge1xuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBBbWJpZW50TGlnaHQoMHhmZmZmZmYsIDEuMCk7XG4gICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG4gICAgcmV0dXJuIGFtYmllbnRMaWdodDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdENhbWVyYShcbiAgICBzY2VuZTogU2NlbmUsXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlcixcbiAgICBuZWFyID0gMSxcbiAgICBmYXIgPSA0MDBcbiAgKTogUGVyc3BlY3RpdmVDYW1lcmEge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgVyAvIEgsIG5lYXIsIGZhcik7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAxMDApO1xuICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZChmYWxzZSk7XG4gICAgc2NlbmUuYWRkKGNhbWVyYSk7XG4gICAgcmV0dXJuIGNhbWVyYTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdENvbnRyb2woXG4gICAgY2FtZXJhOiBDYW1lcmEsXG4gICAgcmVuZGVyOiBXZWJHTFJlbmRlcmVyXG4gICk6IE9yYml0Q29udHJvbHMge1xuICAgIGxldCBkb21FbGVtZW50O1xuICAgIGlmIChyZW5kZXIpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSByZW5kZXIuZG9tRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgY29udHJvbC51cGRhdGUoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdFJlbmRlcmVyKFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXIsXG4gICAgY29sb3I6IG51bWJlciA9IDB4MDAwMDAwLFxuICAgIGlkOiBzdHJpbmcgPSBcIndlYmdsLWNhbnZhc1wiLFxuICAgIGFudGlhbGlhczogYm9vbGVhbiA9IHRydWVcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7XG4gICAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICAgIGFudGlhbGlhczogYW50aWFsaWFzLFxuICAgIH0pO1xuICAgIHRoaXMuaW5pdFJlbmRlcmVyU2V0dGluZ3MocmVuZGVyZXIsIGNvbG9yLCBXLCBIKTtcbiAgICByZXR1cm4gcmVuZGVyZXI7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBpbml0UmVuZGVyZXJTZXR0aW5ncyhcbiAgICByZW5kZXJlcjogV2ViR0xSZW5kZXJlcixcbiAgICBjb2xvcjogbnVtYmVyLFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXJcbiAgKSB7XG4gICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihuZXcgQ29sb3IoY29sb3IpKTtcbiAgICByZW5kZXJlci5zZXRTaXplKFcsIEgpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIGNvbnNvbGUubG9nKFwidGhyZWUuanMgcmV2aXNpb246IFwiLCBSRVZJU0lPTik7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRIZWxwZXIoc2NlbmU6IFNjZW5lKTogdm9pZCB7XG4gICAgY29uc3QgYXhlc0hlbHBlciA9IG5ldyBBeGVzSGVscGVyKDMwKTtcbiAgICBzY2VuZS5hZGQoYXhlc0hlbHBlcik7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHJlbmRlcihcbiAgICBjb250cm9sOiBPcmJpdENvbnRyb2xzLFxuICAgIHJlbmRlcmVyOiBXZWJHTFJlbmRlcmVyLFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBjYW1lcmE6IENhbWVyYSxcbiAgICBvbkJlZm9yZVJlbmRlcj86ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyaW5nID0gKCkgPT4ge1xuICAgICAgaWYgKG9uQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgIG9uQmVmb3JlUmVuZGVyKCk7XG4gICAgICB9XG4gICAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcmluZyk7XG4gICAgfTtcbiAgICByZW5kZXJpbmcoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgYWRkUmVuZGVyZXJJbmZvKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB1cGRhdGVSZW5kZXJlckluZm8oZGl2OiBIVE1MRGl2RWxlbWVudCwgaW5mbzogYW55KTogdm9pZCB7XG4gICAgZGl2LmlubmVyVGV4dCA9IEpTT04uc3RyaW5naWZ5KGluZm8pO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBXZWJHUFVSZW5kZXJlcixcbiAgQW1iaWVudExpZ2h0LFxuICBBeGVzSGVscGVyLFxuICBDYW1lcmEsXG4gIENvbG9yLFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgU2NlbmUsXG4gIFJFVklTSU9OLFxufSBmcm9tIFwidGhyZWUvd2ViZ3B1XCI7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21tb24ge1xuICBwdWJsaWMgc3RhdGljIGluaXRTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpO1xuICAgIHJldHVybiBzY2VuZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdExpZ2h0KHNjZW5lKSB7XG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IEFtYmllbnRMaWdodCgweGZmZmZmZiwgMS4wKTtcbiAgICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcbiAgICByZXR1cm4gYW1iaWVudExpZ2h0O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q2FtZXJhKFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBXOiBudW1iZXIsXG4gICAgSDogbnVtYmVyLFxuICAgIG5lYXIgPSAxLFxuICAgIGZhciA9IDQwMFxuICApOiBQZXJzcGVjdGl2ZUNhbWVyYSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCBXIC8gSCwgbmVhciwgZmFyKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDEwMCk7XG4gICAgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKGZhbHNlKTtcbiAgICBzY2VuZS5hZGQoY2FtZXJhKTtcbiAgICByZXR1cm4gY2FtZXJhO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0Q29udHJvbChcbiAgICBjYW1lcmE6IENhbWVyYSxcbiAgICByZW5kZXI6IFdlYkdQVVJlbmRlcmVyXG4gICk6IE9yYml0Q29udHJvbHMge1xuICAgIGxldCBkb21FbGVtZW50O1xuICAgIGlmIChyZW5kZXIpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSByZW5kZXIuZG9tRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgY29udHJvbC51cGRhdGUoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdFdlYkdQVVJlbmRlcmVyKFxuICAgIFc6IG51bWJlcixcbiAgICBIOiBudW1iZXIsXG4gICAgY29sb3I6IG51bWJlciA9IDB4MDAwMDAwLFxuICAgIGlkOiBzdHJpbmcgPSBcIndlYmdsLWNhbnZhc1wiLFxuICAgIGFudGlhbGlhczogYm9vbGVhbiA9IHRydWVcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR1BVUmVuZGVyZXIoe1xuICAgICAgY2FudmFzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICBhbnRpYWxpYXM6IGFudGlhbGlhcyxcbiAgICB9KTtcbiAgICB0aGlzLmluaXRSZW5kZXJlclNldHRpbmdzKHJlbmRlcmVyLCBjb2xvciwgVywgSCk7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaW5pdFJlbmRlcmVyU2V0dGluZ3MoXG4gICAgcmVuZGVyZXI6IFdlYkdQVVJlbmRlcmVyLFxuICAgIGNvbG9yOiBudW1iZXIsXG4gICAgVzogbnVtYmVyLFxuICAgIEg6IG51bWJlclxuICApIHtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBDb2xvcihjb2xvcikpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoVywgSCk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgY29uc29sZS5sb2coXCJ0aHJlZS5qcyByZXZpc2lvbjogXCIsIFJFVklTSU9OKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEhlbHBlcihzY2VuZTogU2NlbmUpOiB2b2lkIHtcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IEF4ZXNIZWxwZXIoMzApO1xuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcmVuZGVyKFxuICAgIGNvbnRyb2w6IE9yYml0Q29udHJvbHMsXG4gICAgcmVuZGVyZXI6IFdlYkdQVVJlbmRlcmVyLFxuICAgIHNjZW5lOiBTY2VuZSxcbiAgICBjYW1lcmE6IENhbWVyYSxcbiAgICBvbkJlZm9yZVJlbmRlcj86ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcmVuZGVyaW5nID0gKCkgPT4ge1xuICAgICAgaWYgKG9uQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgIG9uQmVmb3JlUmVuZGVyKCk7XG4gICAgICB9XG4gICAgICBjb250cm9sLnVwZGF0ZSgpO1xuICAgICAgcmVuZGVyZXIucmVuZGVyQXN5bmMoc2NlbmUsIGNhbWVyYSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyaW5nKTtcbiAgICB9O1xuICAgIHJlbmRlcmluZygpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBhZGRSZW5kZXJlckluZm8oKTogSFRNTERpdkVsZW1lbnQge1xuICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHVwZGF0ZVJlbmRlcmVySW5mbyhkaXY6IEhUTUxEaXZFbGVtZW50LCBpbmZvOiBhbnkpOiB2b2lkIHtcbiAgICBkaXYuaW5uZXJUZXh0ID0gSlNPTi5zdHJpbmdpZnkoaW5mbyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdVSSB9IGZyb20gXCJsaWwtZ3VpXCI7XG5pbXBvcnQgeyBXZWJHTFJlbmRlcmVyIH0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQge1xuICBDb2xvck1hbmFnZW1lbnQsXG4gIE1lc2gsXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBQbGFuZUdlb21ldHJ5LFxuICBTY2VuZSxcbiAgV2ViR1BVUmVuZGVyZXIsXG59IGZyb20gXCJ0aHJlZS93ZWJncHVcIjtcbmltcG9ydCB7IENvbW1vbiB9IGZyb20gXCIuL0NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgQ29tbW9uIGFzIENvbW1vbldlYkdQVSB9IGZyb20gXCIuL0NvbW1vbldlYkdQVS5qc1wiO1xuXG4vKipcbiAqIFdlYkdM44GoV2ViR1BV44Gn44Gub3BhY2l0eeWApOOBruioreWumuOBrumBleOBhOOCkueiuuiqjeOBmeOCi+OBn+OCgeOBruOCteODs+ODl+ODq+OCs+ODvOODiVxuICogLSBXZWJHTOOBp+OBr29wYWNpdHnjg5fjg63jg5Hjg4bjgqPjga/jgqzjg7Pjg57oo5zmraMoMi4yKeOBjOmBqeeUqOOBleOCjOOCi1xuICogLSBXZWJHUFXjgafjga/jg6rjg4vjgqLlgKTjgYzpgannlKjjgZXjgozjgovjgIJcbiAqXG4gKiBDb2xvci5zZXRSR0IoYWxwaGEsIDAsMCxcInNyZ2JcIinjgpLliKnnlKjjgZnjgovjgZPjgajjgafjgqzjg7Pjg57oo5zmraPlvozjga7jgqLjg6vjg5XjgqHlgKTjgYzlj5blvpfjgafjgY3jgovjga7jgafjgIFcbiAqIFdlYkdQVeeSsOWig+OBp1dlYkdM44KEUGhvdG9zaG9w44Gq44Gp44Gu55Kw5aKD44Gu6KGo56S644KS5YaN54++44GZ44KL5aC05ZCI44Gv44GT44Gh44KJ44KS5Yip55So44GZ44KL44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHVkeSB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVyA9IDY0MDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIID0gNDgwO1xuXG4gIHN0YXRpYyBpbml0V2ViR0xTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IENvbW1vbi5pbml0U2NlbmUoKTtcbiAgICBDb21tb24uaW5pdExpZ2h0KHNjZW5lKTtcbiAgICBjb25zdCBjYW1lcmEgPSBDb21tb24uaW5pdENhbWVyYShzY2VuZSwgU3R1ZHkuVywgU3R1ZHkuSCk7XG4gICAgcmV0dXJuIHsgc2NlbmUsIGNhbWVyYSB9O1xuICB9XG5cbiAgc3RhdGljIGluaXRXZWJHUFVTY2VuZSgpIHtcbiAgICBjb25zdCBzY2VuZSA9IENvbW1vbldlYkdQVS5pbml0U2NlbmUoKTtcbiAgICBDb21tb25XZWJHUFUuaW5pdExpZ2h0KHNjZW5lKTtcbiAgICBjb25zdCBjYW1lcmEgPSBDb21tb25XZWJHUFUuaW5pdENhbWVyYShzY2VuZSwgU3R1ZHkuVywgU3R1ZHkuSCk7XG4gICAgcmV0dXJuIHsgc2NlbmUsIGNhbWVyYSB9O1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gY29uc3Qgc2NlbmUgPSBDb21tb24uaW5pdFNjZW5lKCk7XG4gICAgLy8gQ29tbW9uLmluaXRMaWdodChzY2VuZSk7XG4gICAgLy8gY29uc3QgY2FtZXJhID0gQ29tbW9uLmluaXRDYW1lcmEoc2NlbmUsIFN0dWR5LlcsIFN0dWR5LkgpO1xuICAgIGNvbnN0IGdsU2NuZW5lID0gU3R1ZHkuaW5pdFdlYkdMU2NlbmUoKTtcbiAgICBjb25zdCB3Z3B1U2NlbmUgPSBTdHVkeS5pbml0V2ViR1BVU2NlbmUoKTtcblxuICAgIGNvbnN0IGNhbnZhc0dMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjYW52YXNHTC5pZCA9IFwid2ViR1BVLWNhbnZhc1wiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzR0wpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiOyAvLyBib2R544Gu5a2Q6KaB57Sg44KS5qiq5Lim44Gz44Gr44GZ44KLXG5cbiAgICBjb25zdCByZW5kZXJlciA9IENvbW1vbi5pbml0UmVuZGVyZXIoU3R1ZHkuVywgU3R1ZHkuSCwgMHgwMDAwMDApO1xuICAgIGNvbnN0IHJlbmRlcmVyR1BVID0gQ29tbW9uV2ViR1BVLmluaXRXZWJHUFVSZW5kZXJlcihcbiAgICAgIFN0dWR5LlcsXG4gICAgICBTdHVkeS5ILFxuICAgICAgMHgwMDAwMDAsXG4gICAgICBcIndlYkdQVS1jYW52YXNcIlxuICAgICk7XG4gICAgY29uc3QgbWF0R0wgPSB0aGlzLmluaXRPYmplY3QoZ2xTY25lbmUuc2NlbmUpO1xuICAgIGNvbnN0IG1hdEdQVSA9IHRoaXMuaW5pdE9iamVjdCh3Z3B1U2NlbmUuc2NlbmUpO1xuXG4gICAgdGhpcy5hZGRGaWd1cmUocmVuZGVyZXIuZG9tRWxlbWVudCwgXCJXZWJHTFwiKTtcbiAgICB0aGlzLmFkZEZpZ3VyZShyZW5kZXJlckdQVS5kb21FbGVtZW50LCBcIldlYkdQVVwiKTtcblxuICAgIHRoaXMuaW5pdEdVSShtYXRHTCwgbWF0R1BVLCByZW5kZXJlciwgcmVuZGVyZXJHUFUpO1xuXG4gICAgY29uc3QgcmVuZGVyaW5nID0gKCkgPT4ge1xuICAgICAgcmVuZGVyZXIucmVuZGVyKGdsU2NuZW5lLnNjZW5lLCBnbFNjbmVuZS5jYW1lcmEpO1xuICAgICAgcmVuZGVyZXJHUFUucmVuZGVyQXN5bmMod2dwdVNjZW5lLnNjZW5lLCB3Z3B1U2NlbmUuY2FtZXJhKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJpbmcpO1xuICAgIH07XG4gICAgcmVuZGVyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FudmFzRWxlbWVudOOCkuOAgeOBneOBrkNhbnZhc0VsZW1lbnTjgpLlhoXljIXjgZfjgZ9maWd1cmXopoHntKDjgavnva7jgY3mj5vjgYjjgovjgIJmaWd1cmXopoHntKDjgavjga9maWdjYXB0aW9u6KaB57Sg44GM6L+95Yqg44GV44KM44KL44CCXG4gICAqIEBwYXJhbSBjYW52YXNcbiAgICogQHBhcmFtIGZpZ3VyZVxuICAgKi9cbiAgcHJpdmF0ZSBhZGRGaWd1cmUgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZmlndXJlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBmaWd1cmVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZ3VyZVwiKTtcbiAgICBjb25zdCBmaWdDYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIik7XG4gICAgZmlnQ2FwdGlvbi50ZXh0Q29udGVudCA9IGZpZ3VyZTtcbiAgICBmaWd1cmVFbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgZmlndXJlRWxlbWVudC5hcHBlbmRDaGlsZChmaWdDYXB0aW9uKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZpZ3VyZUVsZW1lbnQpO1xuICB9O1xuXG4gIHByaXZhdGUgaW5pdE9iamVjdChzY2VuZTogU2NlbmUpIHtcbiAgICBjb25zdCBnZW8gPSBuZXcgUGxhbmVHZW9tZXRyeSgzMCwgMzApO1xuXG4gICAgY29uc3QgbWF0ID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XG4gICAgbWF0LmNvbG9yLnNldFJHQigxLCAwLCAwKTtcbiAgICBtYXQudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW8sIG1hdCk7XG4gICAgc2NlbmUuYWRkKG1lc2gpO1xuXG4gICAgcmV0dXJuIG1hdDtcbiAgfVxuXG4gIGluaXRHVUkgPSAoXG4gICAgbWF0ZXJpYWxCYXNpYzogTWVzaEJhc2ljTWF0ZXJpYWwsXG4gICAgbWF0ZXJpYWxCYXNpY1dlYkdQVTogTWVzaEJhc2ljTWF0ZXJpYWwsXG4gICAgcmVuZGVyZXJHTDogV2ViR0xSZW5kZXJlcixcbiAgICByZW5kZXJlcldlYkdQVTogV2ViR1BVUmVuZGVyZXJcbiAgKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbWF0ZXJpYWxzID0gW21hdGVyaWFsQmFzaWMsIG1hdGVyaWFsQmFzaWNXZWJHUFVdO1xuXG4gICAgY29uc3QgZ3VpID0gbmV3IEdVSSgpO1xuICAgIGNvbnN0IG1hdGVyaWFsQ29sb3IgPSB7XG4gICAgICByOiAwLjUsXG4gICAgICBnOiAwLjUsXG4gICAgICBiOiAwLjUsXG4gICAgfTtcbiAgICBjb25zdCBtYXRlcmlhbEFscGhhID0ge1xuICAgICAgYTogMSxcbiAgICAgIHVzZUdhbW1hOiBmYWxzZSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbG9yU3BhY2VTZXR0aW5nID0ge1xuICAgICAgY29sb3JTcGFjZTogcmVuZGVyZXJHTC5vdXRwdXRDb2xvclNwYWNlLFxuICAgICAgd29ya3NwYWNlOiBDb2xvck1hbmFnZW1lbnQud29ya2luZ0NvbG9yU3BhY2UsXG4gICAgfTtcblxuICAgIGNvbnN0IG9uQ2hhbmdlQ29sb3IgPSAoKSA9PiB7XG4gICAgICBtYXRlcmlhbHMuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBtLmNvbG9yLnNldFJHQihtYXRlcmlhbENvbG9yLnIsIG1hdGVyaWFsQ29sb3IuZywgbWF0ZXJpYWxDb2xvci5iKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBndWkuYWRkKG1hdGVyaWFsQ29sb3IsIFwiclwiLCAwLCAxKS5vbkNoYW5nZShvbkNoYW5nZUNvbG9yKTtcbiAgICBndWkuYWRkKG1hdGVyaWFsQ29sb3IsIFwiZ1wiLCAwLCAxKS5vbkNoYW5nZShvbkNoYW5nZUNvbG9yKTtcbiAgICBndWkuYWRkKG1hdGVyaWFsQ29sb3IsIFwiYlwiLCAwLCAxKS5vbkNoYW5nZShvbkNoYW5nZUNvbG9yKTtcblxuICAgIGNvbnN0IHVwZGF0ZUFscGhhID0gKCkgPT4ge1xuICAgICAgbWF0ZXJpYWxzLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgbS5vcGFjaXR5ID0gbWF0ZXJpYWxBbHBoYS5hO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBndWkuYWRkKG1hdGVyaWFsQWxwaGEsIFwiYVwiLCAwLCAxKS5vbkNoYW5nZSh1cGRhdGVBbHBoYSk7XG5cbiAgICBjb25zdCB1cGRhdGVDb2xvclNwYWNlID0gKCkgPT4ge1xuICAgICAgcmVuZGVyZXJHTC5vdXRwdXRDb2xvclNwYWNlID0gcmVuZGVyZXJXZWJHUFUub3V0cHV0Q29sb3JTcGFjZSA9XG4gICAgICAgIGNvbG9yU3BhY2VTZXR0aW5nLmNvbG9yU3BhY2U7XG4gICAgICBDb2xvck1hbmFnZW1lbnQud29ya2luZ0NvbG9yU3BhY2UgPSBjb2xvclNwYWNlU2V0dGluZy53b3Jrc3BhY2U7XG4gICAgfTtcbiAgICBndWlcbiAgICAgIC5hZGQoY29sb3JTcGFjZVNldHRpbmcsIFwiY29sb3JTcGFjZVwiLCBbXCJzcmdiXCIsIFwic3JnYi1saW5lYXJcIl0pXG4gICAgICAub25DaGFuZ2UodXBkYXRlQ29sb3JTcGFjZSk7XG4gICAgZ3VpXG4gICAgICAuYWRkKGNvbG9yU3BhY2VTZXR0aW5nLCBcIndvcmtzcGFjZVwiLCBbXCJzcmdiLWxpbmVhclwiLCBcImRpc3BsYXktcDMtbGluZWFyXCJdKVxuICAgICAgLm9uQ2hhbmdlKHVwZGF0ZUNvbG9yU3BhY2UpO1xuXG4gICAgb25DaGFuZ2VDb2xvcigpO1xuICAgIHVwZGF0ZUFscGhhKCk7XG4gICAgdXBkYXRlQ29sb3JTcGFjZSgpO1xuICB9O1xufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBjb25zdCBzdHVkeSA9IG5ldyBTdHVkeSgpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///936\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={id:Q,loaded:!1,exports:{}};return __webpack_modules__[Q].call(F.exports,F,F.exports,__webpack_require__),F.loaded=!0,F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var e=1/0;for(g=0;g<deferred.length;g++){for(var[U,F,B]=deferred[g],n=!0,s=0;s<U.length;s++)(!1&B||e>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[s])))?U.splice(s--,1):(n=!1,B<e&&(e=B));if(n){deferred.splice(g--,1);var c=F();void 0!==c&&(Q=c)}}return Q}B=B||0;for(var g=deferred.length;g>0&&deferred[g-1][2]>B;g--)deferred[g]=deferred[g-1];deferred[g]=[U,F,B]},__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.nmd=Q=>(Q.paths=[],Q.children||(Q.children=[]),Q),__webpack_require__.j=29,(()=>{var Q={29:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,e,[n,s,c]=F,g=0;if(n.some((U=>0!==Q[U]))){for(B in s)__webpack_require__.o(s,B)&&(__webpack_require__.m[B]=s[B]);if(c)var x=c(__webpack_require__)}for(U&&U(F);g<n.length;g++)e=n[g],__webpack_require__.o(Q,e)&&Q[e]&&Q[e][0](),Q[e]=0;return __webpack_require__.O(x)},F=self.webpackChunkthreejs_lab=self.webpackChunkthreejs_lab||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(936)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();